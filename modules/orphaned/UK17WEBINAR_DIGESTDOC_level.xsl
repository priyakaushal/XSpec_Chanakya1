<?xml version="1.0" encoding="UTF-8"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:dita="http://dita.oasis-open.org/architecture/2005/" xmlns:ref="http://www.lexisnexis.com/xmlschemas/content/shared/reference/1/" xmlns:seclaw="http://www.lexisnexis.com/xmlschemas/content/legal/secondary-law/1/" version="2.0" exclude-result-prefixes="dita">

	<dita:topic xmlns="http://dita.oasis-open.org/architecture/2005/" id="UK15PG_DIGESTDOC_level_With-Forms">
    <title>level <lnpid>id-UK17-30613</lnpid></title>

    <body>
        <p><sourcexml>level</sourcexml> becomes <targetxml>seclaw:level</targetxml>. Its content should be handled as follows: <ul>
            <li>Copy-of <sourcexml>@leveltype</sourcexml> to <targetxml>seclaw:level</targetxml>.</li>
            <li>If <sourcexml>heading/title/refpt</sourcexml> is present, it becomes empty <targetxml>ref:anchor[anchortype="global"]</targetxml> as a direct child to <targetxml>seclaw:level</targetxml>.<ul>
                <li>Use <sourcexml>heading/title/refpt/@id</sourcexml> for <targetxml>ref:anchor/@id</targetxml> applying id rules stated in <xref href="../../common_newest/Rosetta_docinfo.doc-lang-and-doc-country-LxAdv-ROOT_xml.lang.dita#common_target_xml.lang">ID rules</xref>.</li>
            </ul></li>
            <li>Apply <xref href="../../common_newest/Rosetta_heading-LxAdv-heading.dita#Rosetta_heading-to-LexisAdvance_heading">heading to heading</xref> rule.<ul>
                <li>Apply <xref href="../../common_newest/Rosetta_title-LxAdv-title.dita#Rosetta_title_to-LexisAdvance_title">title to title</xref> rule</li>
            </ul></li>
            <li><sourcexml>bodytext</sourcexml> becomes <targetxml>seclaw:bodytext</targetxml>.<ul>
                <li>Apply <xref href="../../common_newest/Rosetta_p-LxAdv-p.dita#Rosetta_p-to-LexisAdvance_p">p to p</xref> rule.<ul>
                    <li>Apply <xref href="../../common_newest/Rosetta_text-LxAdv-text.dita#Rosetta_text_to-LexisAdvance_text">text to text</xref> rule.<ul>
                        <li>Apply <xref href="../../common_newest/Rosetta_date-LxAdv-date.dita#Rosetta_date-to-LexisAdvance_date">date to date</xref> rule.</li>
                        <li><sourcexml>time</sourcexml> becomes <targetxml>time</targetxml>.</li>
                        <li>Pass-thru <sourcexml>role</sourcexml>. I.e. process descendants only.</li>
                    </ul></li>
                </ul></li>
            </ul></li>
            </ul></p>
        <example>
            <title>Source XML</title>
            <codeblock>&lt;level leveltype="division"&gt;
  &lt;heading&gt;
    &lt;title&gt;
      &lt;refpt id="0R6A_224600" type="ext"/&gt;Test video (Vimeo)&lt;/title&gt;
  &lt;/heading&gt;
  &lt;bodytext&gt;
    &lt;p&gt;
      &lt;text&gt;
        &lt;date day="04" month="07" year="2013"&gt;Date: 04/07/2013&lt;/date&gt;
      &lt;/text&gt;
    &lt;/p&gt;
    &lt;p&gt;
      &lt;text&gt;
        &lt;time hour="00" minute="06" second="31"&gt;Duration: 06:31&lt;/time&gt;
      &lt;/text&gt;
    &lt;/p&gt;
    &lt;p&gt;
      &lt;text&gt;
        &lt;role id="multimedia"&gt;Video&lt;/role&gt;
      &lt;/text&gt;
    &lt;/p&gt;
  &lt;/bodytext&gt;
&lt;/level&gt;
&lt;level leveltype="division"&gt;
  &lt;bodytext&gt;
    &lt;p&gt;
      &lt;text&gt;
        &lt;remotelink type="video" href="http://player.vimeo.com/video/52994955" newwindow="YES"&gt;Test video (Vimeo)&lt;/remotelink&gt;
      &lt;/text&gt;
    &lt;/p&gt;
  &lt;/bodytext&gt;
&lt;/level&gt;</codeblock>
            <title>Target XML</title>
            <codeblock>&lt;seclaw:level leveltype="division"&gt;
   &lt;ref:anchor id="_0R6A_224600" anchortype="global"/&gt;
   &lt;heading&gt;
      &lt;title&gt;Test video (Vimeo)&lt;/title&gt;
   &lt;/heading&gt;
   &lt;seclaw:bodytext&gt;
      &lt;p&gt;
         &lt;text&gt;
            &lt;date day="04" month="07" year="2013"&gt;Date: 04/07/2013&lt;/date&gt;
         &lt;/text&gt;
      &lt;/p&gt;
      &lt;p&gt;
         &lt;text&gt;
            &lt;time&gt;Duration: 06:31&lt;/time&gt;
         &lt;/text&gt;
      &lt;/p&gt;
      &lt;p&gt;
         &lt;text&gt;Video&lt;/text&gt;
      &lt;/p&gt;
   &lt;/seclaw:bodytext&gt;
&lt;/seclaw:level&gt;
&lt;seclaw:level leveltype="division"&gt;
   &lt;seclaw:bodytext&gt;
      &lt;p&gt;
         &lt;text&gt;
            &lt;url normval="http://player.vimeo.com/video/52994955"&gt;Test video (Vimeo)&lt;/url&gt;
         &lt;/text&gt;
      &lt;/p&gt;
   &lt;/seclaw:bodytext&gt;
&lt;/seclaw:level&gt;</codeblock>
        </example>
        <section>
            <title>Changes</title>
            <p/>
        </section>
    </body>
	</dita:topic>

	<!--  @@@ This file has been autogenerated.  Remove this comment after manual development complete! @@@  -->
	<!--    Original DITA file location:  DITA\ConversionInstructions\Rosetta\DITA-UK\UK17-CLE_materials\UK17WEBINAR_DIGESTDOC_level.dita  -->
	<xsl:message>UK17WEBINAR_DIGESTDOC_level.xsl requires manual development!</xsl:message> 

	<xsl:template match="level">

		<!--  Original Target XPath:  seclaw:level   -->
		<seclaw:level>
			<xsl:apply-templates select="@* | node()"/>
		</seclaw:level>

	</xsl:template>

	<xsl:template match="@leveltype">

		<!--  Original Target XPath:  seclaw:level   -->
		<seclaw:level>
			<xsl:apply-templates select="@* | node()"/>
		</seclaw:level>

	</xsl:template>

	<xsl:template match="heading/title/refpt">

		<!--  Original Target XPath:  ref:anchor[anchortype="global"]   -->
		<ref:anchor>
			<xsl:apply-templates select="@* | node()"/>
		</ref:anchor>

	</xsl:template>

	<xsl:template match="heading/title/refpt/@id">

		<!--  Original Target XPath:  ref:anchor/@id   -->
		<ref:anchor>
			<xsl:attribute name="id">
				<xsl:apply-templates select="node()"/>
			</xsl:attribute>
		</ref:anchor>

	</xsl:template>

	<xsl:template match="bodytext">

		<!--  Original Target XPath:  seclaw:bodytext   -->
		<seclaw:bodytext>
			<xsl:apply-templates select="@* | node()"/>
		</seclaw:bodytext>

	</xsl:template>

	<xsl:template match="time">

		<!--  Original Target XPath:  time   -->
		<time>
			<xsl:apply-templates select="@* | node()"/>
		</time>

	</xsl:template>

	<xsl:template match="role">

		<!--  Original Target XPath:     -->
		<!--  Could not determine target element or attribute name:  <>  -->			<xsl:apply-templates select="@* | node()"/>
		<!--  Could not determine target element or attribute name:  </>  -->

	</xsl:template>

</xsl:stylesheet>