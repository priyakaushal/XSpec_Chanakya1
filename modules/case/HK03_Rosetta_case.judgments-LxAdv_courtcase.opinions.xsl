<?xml version="1.0" encoding="UTF-8"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:dita="http://dita.oasis-open.org/architecture/2005/" xmlns:case="http://www.lexis-nexis.com/glp/case" xmlns:courtcase="http://www.lexisnexis.com/xmlschemas/content/legal/courtcase/1/" version="2.0" exclude-result-prefixes="dita case">

	<dita:topic xmlns="http://dita.oasis-open.org/architecture/2005/" id="HK03_Rosetta_case.judgments-LxAdv_courtcase.opinions">
    <title>case:judgments <lnpid>id-HK03-37221</lnpid></title>
    <body>
        <section conref="../../common_caselaw/conref_content/Rosetta_case.judgments-LxAdv_courtcase.opinions.dita#Rosetta_case.judgments-LxAdv_courtcase.opinions/mapping"/>
        <section>
            <p>The optional attributes of <sourcexml>case:judgments</sourcexml> are handled as follows:<ul>
                    <li><sourcexml>case:judgments/@subdoc</sourcexml> becomes
                            <targetxml>courtcase:opinions/@includeintoc</targetxml>.</li>
                    <li><sourcexml>case:judgments/@toc-caption</sourcexml> becomes
                            <targetxml>courtcase:opinions/@alternatetoccaption</targetxml>.</li>
                </ul></p>
        </section>
        <example>
            <codeblock>
&lt;case:body&gt;
    &lt;case:content&gt;
        &lt;case:judgments&gt;
          ...
            &lt;case:judgment&gt;
                &lt;case:courtinfo&gt;
                    &lt;case:judges&gt;Reyes JÂ &lt;/case:judges&gt;
                &lt;/case:courtinfo&gt;
            &lt;/case:judgment&gt;
          ...
        &lt;/case:judgments&gt;
    &lt;/case:content&gt;
&lt;/case:body&gt;
       </codeblock>
            <b>becomes</b>
            <codeblock>
&lt;courtcase:courtcase&gt;
    &lt;courtcase:body&gt;
        &lt;courtcase:opinions&gt; ... 
            &lt;courtcase:opinion&gt;&lt;!--Converted from case:judges--&gt;
                &lt;courtcase:opinionby&gt;
                    &lt;person:judge&gt;Reyes J&amp;#x00A0;&lt;/person:judge&gt;
                &lt;/courtcase:opinionby&gt;
            &lt;/courtcase:opinion&gt; ... 
        &lt;/courtcase:opinions&gt;
    &lt;/courtcase:body&gt;
&lt;/courtcase:courtcase&gt;
       </codeblock>
        </example>
        
        <note> if <sourcexml>inlineobject</sourcexml> is child of
            <sourcexml>case:judgments</sourcexml> then conversion needs to create
            <targetxml>ref:inlineobject</targetxml> under <targetxml>courtcase:opinions/
                attachments/ appendix/bodytext/figure</targetxml>, i.e,
            <p><sourcexml>case:judgments/inlineobject</sourcexml>becomes
                <targetxml>courtcase:opinions/ attachments/
                    appendix/bodytext/figure/ref:inlineobject</targetxml>
            </p>
        </note>  
        <example>
            <codeblock>
<![CDATA[<case:judgments>
    .....
    <inlineobject type="image" attachment="ln-server" filename="Table.jpg"/>
</case:judgments>
]]>
       </codeblock>
            <b>becomes</b>
            <codeblock>
<![CDATA[<courtcase:opinions>
<attachments>
    <appendix>
        <bodytext>
            <figure>
                <ref:inlineobject>
                    <ref:locator>
                        <ref:locator-key>
                            <ref:key-name name="object-key"/>
                            <ref:key-value value="Table.jpg"/>
                        </ref:locator-key>
                        <ref:locator-params>
                            <proc:param name="object-type" value="IMG"/>
                            <proc:param name="external-or-local" value="external"/>
                            <proc:param name="object-server" value="Blobstore"/>
                            <proc:param name="object-pguid"
                                value="urn:contentItem:0000-0000-0000-0000-00000-00"/>
                            <proc:param name="componentseq" value="1"/>
                        </ref:locator-params>
                    </ref:locator>
                </ref:inlineobject>
            </figure>
        </bodytext>
    </appendix>
</attachments>
</courtcase:opinions>
]]>
       </codeblock>
        </example>     
        <!--<section
            conref="../../common_caselaw/conref_content/Rosetta_case.judgments-LxAdv_courtcase.opinions.dita#Rosetta_case.judgments-LxAdv_courtcase.opinions/changes"/>-->
        <section>
            <title>Changes</title>
            <p>2017-10-09: <ph id="change_20171009_RS">Added an instruction for handling <sourcexml>inlineobject</sourcexml> is child of
                <sourcexml>case:judgments</sourcexml>.</ph></p>
            <p>2016-03-04: <ph id="change_20160304_AS">Created.</ph></p>
        </section>
    </body>
	</dita:topic>

	<!--  @@@ This file has been autogenerated.  Remove this comment after manual development complete! @@@  -->
	<!--    Original DITA file location:  DITA\ConversionInstructions\Rosetta\DITA-HK\HK03\HK03_Rosetta_case.judgments-LxAdv_courtcase.opinions.dita  -->
	<!--<xsl:message>HK03_Rosetta_case.judgments-LxAdv_courtcase.opinions.xsl requires manual development!</xsl:message> -->
    <!--WSS: Done  - "HK03_Rosetta_case.judgments-LxAdv_courtcase.opinions"-->
	<xsl:template match="case:judgments">
		<courtcase:opinions>
		    <xsl:choose>
		        <xsl:when test="./@subdoc">
		            <xsl:attribute name="includeintoc">
		                <xsl:value-of select="."/>
		            </xsl:attribute>
		        </xsl:when>
		        <xsl:when test="./@toc-caption">
		            <xsl:attribute name="alternatetoccaption">
		                <xsl:value-of select="."/>
		            </xsl:attribute>
		        </xsl:when>
		        <xsl:when test="./@searchtype"/>
		    </xsl:choose>		   
		    <xsl:apply-templates select="@* | node()"/>
		</courtcase:opinions>
	</xsl:template>
    
      
    <xsl:template match="case:judgments/@subdoc"/>
    <xsl:template match="case:judgments/@toc-caption"/>
</xsl:stylesheet>