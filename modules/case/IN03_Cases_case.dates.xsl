<?xml version="1.0" encoding="UTF-8"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:dita="http://dita.oasis-open.org/architecture/2005/" xmlns:case="http://www.lexis-nexis.com/glp/case" xmlns:caseinfo="http://www.lexisnexis.com/xmlschemas/content/legal/case-information/1/" xmlns:decision="http://www.lexisnexis.com/xmlschemas/content/legal/decision/1/" version="2.0" exclude-result-prefixes="dita case">

	<dita:topic xmlns="http://dita.oasis-open.org/architecture/2005/" id="case.dates">
  <title>case:dates <lnpid>id-IN03-39007</lnpid></title>
  <body>
    <section>
      <ul>
         <li>
          <sourcexml>case:dates</sourcexml> becomes
            <targetxml>/courtcase:courtcase/courtcase:head/caseinfo:caseinfo/decision:dates</targetxml>
          <note>Conversion should not create consecutive <targetxml>caseinfo:caseinfo</targetxml>
            elements. When 2 or more consecutive sibling source elements map to
              <targetxml>caseinfo:caseinfo</targetxml>, data should be merged to a single
              <targetxml>caseinfo:caseinfo</targetxml> element unless this would hamper content
            ordering.</note>
          <ul>
            <li>
              <sourcexml>case:decisiondate</sourcexml> becomes
                <targetxml>/courtcase:courtcase/courtcase:head/caseinfo:caseinfo/decision:dates/decision:decisiondate</targetxml>
              populated with below mentioned attributes:
                <sourcexml>case:decisiondate/date/@day</sourcexml> becomes
                <targetxml>decision:decisiondate/@day</targetxml>,
                <sourcexml>case:decisiondate/date/@month</sourcexml> becomes
                <targetxml>decision:decisiondate/@month</targetxml> and
                <sourcexml>case:decisiondate/date/@year</sourcexml> becomes
                <targetxml>decision:decisiondate/@year</targetxml>
              <p> The attribute <targetxml>decision:decisiondate/@normdate</targetxml> should be
                populated with the values of <sourcexml>case:decisiondate/date/@year</sourcexml>,
                  <sourcexml>case:decisiondate/date/@month</sourcexml> and
                  <sourcexml>case:decisiondate/date/@day</sourcexml> concatenated and separated by a
                single hyphen. The values of <sourcexml>case:decisiondate/date/@month</sourcexml>
                and <sourcexml>case:decisiondate/date/@day</sourcexml> should be padded with zeroes
                so that they are 2 digits. <note>If one or more of the three date values (year,
                  month or day) are absent, then
                    <targetxml>decision:decisiondate/@normdate</targetxml> should <b>not</b> be
                  populated.</note></p><ul>
                <li>
                  <sourcexml>date</sourcexml> becomes
                    <targetxml>/courtcase:courtcase/courtcase:head/caseinfo:caseinfo/decision:dates/decision:decisiondate/date-text</targetxml>
                </li>
              </ul>
                    <pre>

&lt;case:dates&gt;
    &lt;case:decisiondate&gt;
        &lt;date year="1896" month="10" day="06"&gt;6th October, 1896..&lt;/date&gt;
    &lt;/case:decisiondate&gt;
&lt;/case:dates&gt;


<b>Becomes</b>


&lt;decision:dates&gt;
    &lt;decision:decisiondate day="06" month="10" year="1896" normdate="1896-10-06"&gt;
        &lt;date-text&gt;6th October, 1896..&lt;/date-text&gt;
    &lt;/decision:decisiondate&gt;
&lt;/decision:dates&gt;

</pre></li>
          </ul></li>
      </ul>
    </section>
    <section>
      <title>Changes</title>
      <p>2016-08-17: <ph id="change_20160817_HP">Created</ph>.</p>
    </section>
  </body>
	</dita:topic>

	<!--  @@@ This file has been autogenerated.  Remove this comment after manual development complete! @@@  -->
	<!--    Original DITA file location:  DITA\ConversionInstructions\Rosetta\DITA-IN\IN03_Cases\case.dates.dita  -->
	<xsl:message>IN03_Cases_case.dates.xsl requires manual development!</xsl:message> 

	<xsl:template match="case:dates">

		<!--  Original Target XPath:  /courtcase:courtcase/courtcase:head/caseinfo:caseinfo/decision:dates   -->
		<courtcase:courtcase xmlns:courtcase="http://www.lexisnexis.com/xmlschemas/content/legal/courtcase/1/">
			<courtcase:head>
				<caseinfo:caseinfo>
					<decision:dates>
						<xsl:apply-templates select="@* | node()"/>
					</decision:dates>
				</caseinfo:caseinfo>
			</courtcase:head>
		</courtcase:courtcase>

	</xsl:template>

	<xsl:template match="case:decisiondate">

		<!--  Original Target XPath:  /courtcase:courtcase/courtcase:head/caseinfo:caseinfo/decision:dates/decision:decisiondate   -->
		<courtcase:courtcase xmlns:courtcase="http://www.lexisnexis.com/xmlschemas/content/legal/courtcase/1/">
			<courtcase:head>
				<caseinfo:caseinfo>
					<decision:dates>
						<decision:decisiondate>
							<xsl:apply-templates select="@* | node()"/>
						</decision:decisiondate>
					</decision:dates>
				</caseinfo:caseinfo>
			</courtcase:head>
		</courtcase:courtcase>

	</xsl:template>

	<xsl:template match="case:decisiondate/date/@day">

		<!--  Original Target XPath:  decision:decisiondate/@day   -->
		<decision:decisiondate>
			<xsl:attribute name="day">
				<xsl:apply-templates select="node()"/>
			</xsl:attribute>
		</decision:decisiondate>

	</xsl:template>

	<xsl:template match="case:decisiondate/date/@month">

		<!--  Original Target XPath:  decision:decisiondate/@month   -->
		<decision:decisiondate>
			<xsl:attribute name="month">
				<xsl:apply-templates select="node()"/>
			</xsl:attribute>
		</decision:decisiondate>

	</xsl:template>

	<xsl:template match="case:decisiondate/date/@year">

		<!--  Original Target XPath:  decision:decisiondate/@year   -->
		<decision:decisiondate>
			<xsl:attribute name="year">
				<xsl:apply-templates select="node()"/>
			</xsl:attribute>
		</decision:decisiondate>

	</xsl:template>

	<xsl:template match="date">

		<!--  Original Target XPath:  /courtcase:courtcase/courtcase:head/caseinfo:caseinfo/decision:dates/decision:decisiondate/date-text   -->
		<courtcase:courtcase xmlns:courtcase="http://www.lexisnexis.com/xmlschemas/content/legal/courtcase/1/">
			<courtcase:head>
				<caseinfo:caseinfo>
					<decision:dates>
						<decision:decisiondate>
							<date-text>
								<xsl:apply-templates select="@* | node()"/>
							</date-text>
						</decision:decisiondate>
					</decision:dates>
				</caseinfo:caseinfo>
			</courtcase:head>
		</courtcase:courtcase>

	</xsl:template>

</xsl:stylesheet>