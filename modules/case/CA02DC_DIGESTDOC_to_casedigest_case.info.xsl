<?xml version="1.0" encoding="UTF-8"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:dita="http://dita.oasis-open.org/architecture/2005/" xmlns:case="http://www.lexis-nexis.com/glp/case" xmlns:casedigest="http://www.lexisnexis.com/xmlschemas/content/legal/case-digest/1/" xmlns:ci="http://www.lexis-nexis.com/ci" xmlns:jurisinfo="http://www.lexisnexis.com/xmlschemas/content/legal/jurisdiction-info/1/" version="2.0" exclude-result-prefixes="dita jurisinfo case ci casedigest">

	<dita:topic xmlns="http://dita.oasis-open.org/architecture/2005/" id="case.info">
  <title>case:info <lnpid>id-CA02DC-12614</lnpid></title>
  <body>
    <section>
      <ul>
        <li>
          <sourcexml>case:info</sourcexml> becomes
          <targetxml>casedigest:caseinfo</targetxml>. <p>The mappings for the children of
            <sourcexml>case:info</sourcexml> are discussed as separate topics.</p>
          
          <note>Conversion should not create consecutive <targetxml>casedigest:caseinfo</targetxml> elements. When 2 or more consecutive sibling source
            elements map to <targetxml>casedigest:caseinfo</targetxml>, data should be merged to a single <targetxml>casedigest:caseinfo</targetxml> element
            unless this would hamper content ordering.</note>
          <pre>

&lt;case:info&gt;
    ......
    ......
&lt;/case:info&gt; 

                    </pre>
          <b>Becomes</b>
          <pre>
    

&lt;casedigest:head&gt;
    &lt;casedigest:caseinfo&gt;
        .................
        .................
    &lt;/casedigest:caseinfo&gt;
&lt;/casedigest:head&gt;

          </pre>
        </li>
      </ul>
    </section>
  </body>
	</dita:topic>

	<!--  @@@ This file has been autogenerated.  Remove this comment after manual development complete! @@@  -->
	<!--    Original DITA file location:  DITA\ConversionInstructions\Rosetta\DITA-CAN\CA02-Case_Summaries\CA02DC_DIGESTDOC_to_casedigest\case.info.dita  -->
 
<!--Vikas Rohilla : Updated the Template Initial-->
  <xsl:template match="case:info[$subtype='wdns']">
		<casedigest:caseinfo>
		  <xsl:apply-templates select="abbrvname"/>
		  <!-- <xsl:apply-templates select="case:courtinfo/case:dates/case:decisiondate"/>-->
		  <xsl:apply-templates select="case:reportercite"/>
<!--		  <xsl:apply-templates select="case:courtinfo/case:filenum"/>
		  <xsl:apply-templates select="case:courtinfo/case:dates/case:hearingdates"/>
-->		  <xsl:if test="child::case:courtinfo/case:courtcode or child::case:courtinfo/abbrvname or child::case:courtinfo/case:courtname">
		    <xsl:element name="jurisinfo:courtinfo">
		      <xsl:apply-templates select="case:courtinfo/case:courtcode"/>
		      <xsl:apply-templates select="case:courtinfo/case:courtname"/>
		      <xsl:apply-templates select="case:courtinfo/case:juris"/>
		    </xsl:element>
		  </xsl:if>
		  <xsl:apply-templates select="case:courtinfo/case:dates/case:decisiondate"/>
		  <xsl:apply-templates select="case:courtinfo/case:judges"/>
		</casedigest:caseinfo>
	</xsl:template>
  
  <xsl:template match="case:info[$subtype!='wdns']">
    <casedigest:caseinfo>
      <xsl:apply-templates select="abbrvname"/>
    </casedigest:caseinfo>
    <xsl:apply-templates select="case:reportercite[child::ci:cite[@type='cite4thisdoc']]"/>
    <casedigest:caseinfo>
      <xsl:apply-templates select="case:reportercite[child::ci:cite[not(@type='cite4thisdoc')]]"/>
    <xsl:if test="child::case:courtinfo/case:courtcode or child::case:courtinfo/abbrvname or child::case:courtinfo/case:courtname">
      <xsl:element name="jurisinfo:courtinfo">
        <xsl:apply-templates select="case:courtinfo/case:courtcode"/>
        <xsl:apply-templates select="case:courtinfo/case:courtname"/>
        <xsl:apply-templates select="case:courtinfo/case:juris"/>
      </xsl:element>
    </xsl:if>
      <xsl:apply-templates select="case:courtinfo/case:judges|case:courtinfo/case:dates/case:decisiondate|case:dates/case:decisiondate|//case:constituents"/>
    </casedigest:caseinfo>
  </xsl:template>
  
  <xsl:template match="case:info[preceding::case:info]"/>
  
</xsl:stylesheet>