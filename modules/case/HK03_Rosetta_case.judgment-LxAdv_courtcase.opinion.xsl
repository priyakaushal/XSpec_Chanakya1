<?xml version="1.0" encoding="UTF-8"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:dita="http://dita.oasis-open.org/architecture/2005/" xmlns:case="http://www.lexis-nexis.com/glp/case" xmlns:courtcase="http://www.lexisnexis.com/xmlschemas/content/legal/courtcase/1/" version="2.0" exclude-result-prefixes="dita case">

	<dita:topic xmlns="http://dita.oasis-open.org/architecture/2005/" id="HK03_Rosetta_case.judgment-LxAdv_courtcase.opinion">
  <title>case:judgment <lnpid>id-HK03-37220</lnpid></title>
  <body>
    <section conref="../../common_caselaw/conref_content/Rosetta_case.judgment-LxAdv_courtcase.opinion.dita#Rosetta_case.judgment-LxAdv_courtcase.opinion/mapping"/>
    <section>
      <p>The optional attributes of <sourcexml>case:judgment</sourcexml> are handled as follows:<ul>
          <li><sourcexml>case:judgment/@subdoc</sourcexml> becomes
              <targetxml>courtcase:opinion/@includeintoc</targetxml>.</li>
          <li><sourcexml>case:judgment/@toc-caption</sourcexml> becomes
              <targetxml>courtcase:opinion/@alternatetoccaption</targetxml>.</li>
          <li><sourcexml>case:judgment/@searchtype</sourcexml> should be suppressed.</li>
        </ul></p>
    </section>
    <example>
      <codeblock>
&lt;case:body&gt;
    &lt;case:content&gt;
        &lt;case:judgments&gt;
          ...
            &lt;case:judgment&gt;
                &lt;case:courtinfo&gt;
                    &lt;case:judges&gt;Reyes J &lt;/case:judges&gt;
                &lt;/case:courtinfo&gt;
            &lt;/case:judgment&gt;
          ...
        &lt;/case:judgments&gt;
    &lt;/case:content&gt;
&lt;/case:body&gt;
       </codeblock>
      <b>becomes</b>
      <codeblock>
&lt;case:body&gt;
    &lt;case:content&gt;
        &lt;case:judgments&gt;
          ...
            &lt;case:judgment&gt;
                &lt;case:courtinfo&gt;
                    &lt;case:judges&gt;Reyes J &lt;/case:judges&gt;
                &lt;/case:courtinfo&gt;
            &lt;/case:judgment&gt;
          ...
        &lt;/case:judgments&gt;
    &lt;/case:content&gt;
&lt;/case:body&gt;
       </codeblock>
    </example>
    <!--<section
            conref="../../common_caselaw/conref_content/Rosetta_case.judgment-LxAdv_courtcase.opinion.dita#Rosetta_case.judgment-LxAdv_courtcase.opinion/changes"/>-->
    <!--<section>
            <title>Changes Specific to AU01</title>
            </section>-->

  </body>
	</dita:topic>

	<!--  @@@ This file has been autogenerated.  Remove this comment after manual development complete! @@@  -->
	<!--    Original DITA file location:  DITA\ConversionInstructions\Rosetta\DITA-HK\HK03\HK03_Rosetta_case.judgment-LxAdv_courtcase.opinion.dita  -->
	<!--<xsl:message>HK03_Rosetta_case.judgment-LxAdv_courtcase.opinion.xsl requires manual development!</xsl:message>--> 
    <!--WSS: Done - case:judgment-->
    <!--<xsl:template match="case:judgment[parent::case:judgments]">
        <courtcase:opinion>
        <xsl:choose>
            <xsl:when test="./@subdoc">
                <xsl:attribute name="includeintoc">
                    <xsl:value-of select="."/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when test="./@toc-caption">
                <xsl:attribute name="alternatetoccaption">
                    <xsl:value-of select="."/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when test="./@searchtype"/>
        </xsl:choose>
        <xsl:apply-templates select="@* | node()"/>
        </courtcase:opinion>
	</xsl:template>-->
   <!-- Awantika: commented above template as it was taking the whole text in alternatetoccaption. also attributes are optional -->
    <xsl:template match="case:judgment">
        <courtcase:opinion>
            <xsl:if test="./@subdoc">
                <xsl:attribute name="includeintoc">
                    <xsl:value-of select="./@subdoc"/>
                </xsl:attribute>
            </xsl:if>
            <xsl:if test="./@toc-caption">
                <xsl:attribute name="alternatetoccaption">
                    <xsl:value-of select="./@toc-caption"/>
                </xsl:attribute>
            </xsl:if>
            <xsl:apply-templates select="case:courtinfo/case:judges[ancestor::case:content]"/>
            <xsl:apply-templates select="@* | node() except case:courtinfo"/>
        </courtcase:opinion>
    </xsl:template>
    <xsl:template match="case:judgment/@subdoc"/>
    <xsl:template match="case:judgment/@toc-caption"/>
</xsl:stylesheet>