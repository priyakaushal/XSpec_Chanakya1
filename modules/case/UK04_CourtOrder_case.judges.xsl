<?xml version="1.0" encoding="UTF-8"?>
<xsl:stylesheet xmlns:person="http://www.lexisnexis.com/xmlschemas/content/shared/person/1/" xmlns:courtorder="urn:x-lexisnexis:content:courtorder:sharedservices:1" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:dita="http://dita.oasis-open.org/architecture/2005/" xmlns:case="http://www.lexis-nexis.com/glp/case" version="2.0" exclude-result-prefixes="dita case courtorder person">

	<dita:topic xmlns="http://dita.oasis-open.org/architecture/2005/" id="courtorder-case.judges">
  <title>case:judges <lnpid>id-UK04-27618</lnpid></title>
  <body>
    <p>The element <sourcexml>case:info/case:courtinfo/case:judges</sourcexml> becomes
      <targetxml>courtorder:head/courtorder:authors/person:judge/person:person/person:name.text</targetxml>.
      If the child element <sourcexml>case:judges/case:judge</sourcexml> occurs, the start-tag
      and end-tag (but not the content) for <sourcexml>case:judge</sourcexml> are dropped.  Any
      other child elements of <sourcexml>case:info/case:courtinfo/case:judges</sourcexml> (and any child elements of
      <sourcexml>case:judges/case:judge</sourcexml> if it occurs) are converted as described in the General Markup section. </p>
    <section>
      <title>Source XML showing <sourcexml>case:judges</sourcexml> with child element <sourcexml>case:judge</sourcexml></title>
      <codeblock>

&lt;case:info&gt;
  &lt;!--...--&gt;
  &lt;case:courtinfo&gt;
    &lt;!--...--&gt;
    &lt;case:judges&gt;
      &lt;case:judge&gt;LORD WOOLF CJ&lt;/case:judge&gt;
    &lt;/case:judges&gt;
    &lt;!--...--&gt;
  &lt;/case:courtinfo&gt;
  &lt;!--...--&gt;
&lt;/case:info&gt;

      </codeblock>
    </section>
    <section>
      <title>Target XML </title>
      <codeblock>

&lt;courtorder:head&gt;
  &lt;courtorder:authors&gt;
    &lt;person:judge&gt;
      &lt;person:person&gt;
        &lt;person:name.text&gt;LORD WOOLF CJ&lt;/person:name.text&gt;          
      &lt;/person:person&gt;
    &lt;/person:judge&gt;
  &lt;/courtorder:authors&gt;
&lt;/courtorder:head&gt;

        </codeblock>
    </section>
    <section>
      <title>Source XML showing <sourcexml>case:judges</sourcexml> containing PCDATA and no child element <sourcexml>case:judge</sourcexml></title>
      <codeblock>

&lt;case:info&gt;
  &lt;!--...--&gt;
  &lt;case:courtinfo&gt;
    &lt;!--...--&gt;
    &lt;case:judges&gt;LORD GODDARD CJ&lt;/case:judges&gt;
    &lt;!--...--&gt;
  &lt;/case:courtinfo&gt;
  &lt;!--...--&gt;
&lt;/case:info&gt;

      </codeblock>
    </section>
    <section>
      <title>Target XML </title>
      <codeblock>

&lt;courtorder:head&gt;
  &lt;courtorder:authors&gt;
    &lt;person:judge&gt;
      &lt;person:person&gt;
        &lt;person:name.text&gt;LORD GODDARD CJ&lt;/person:name.text&gt;          
      &lt;/person:person&gt;
    &lt;/person:judge&gt;
  &lt;/courtorder:authors&gt;
&lt;/courtorder:head&gt;

        </codeblock>
    </section>
    <section>
      <title>Source XML showing <sourcexml>case:judges</sourcexml> containing PCDATA and another child element (not <sourcexml>case:judge</sourcexml>)</title>
      <codeblock>

&lt;case:info&gt;
  &lt;!--...--&gt;
  &lt;case:courtinfo&gt;
    &lt;!--...--&gt;
    &lt;case:judges&gt;de la &lt;emph typestyle="caps"&gt;bastide p&lt;/emph&gt;&lt;/case:judges&gt;
    &lt;!--...--&gt;
  &lt;/case:courtinfo&gt;
  &lt;!--...--&gt;
&lt;/case:info&gt;

      </codeblock>
    </section>
    <section>
      <title>Target XML </title>
      <codeblock>

&lt;courtorder:head&gt;
  &lt;courtorder:authors&gt;
    &lt;person:judge&gt;
      &lt;person:person&gt;
        &lt;person:name.text&gt;de la &lt;emph typestyle="caps"&gt;bastide p&lt;/emph&gt;&lt;/person:name.text&gt;          
      &lt;/person:person&gt;
    &lt;/person:judge&gt;
  &lt;/courtorder:authors&gt;
&lt;/courtorder:head&gt;

        </codeblock>
    </section>
  </body>
	</dita:topic>

	<!--  @@@ This file has been autogenerated.  Remove this comment after manual development complete! @@@  -->
	<!--    Original DITA file location:  DITA\ConversionInstructions\Rosetta\DITA-UK\UK04_CourtOrder\case.judges.dita  -->
	<!--<xsl:message>UK04_CourtOrder_case.judges.xsl requires manual development!</xsl:message> -->

	<xsl:template match="case:info/case:courtinfo/case:judges">

	  <courtorder:authors>
	    <person:judge>
	      <person:person>
	        <person:name.text>
	          <xsl:apply-templates select="@*|node()"/>
	        </person:name.text>
	      </person:person>
	    </person:judge>
	  </courtorder:authors>

	</xsl:template>

  <xsl:template match="case:info/case:courtinfo/case:judges/case:judge">
    <xsl:apply-templates select="@*|node()"/>
  </xsl:template>
</xsl:stylesheet>