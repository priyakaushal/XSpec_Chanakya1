<?xml version="1.0" encoding="UTF-8"?>
<xsl:stylesheet xmlns="http://www.lexisnexis.com/xmlschemas/content/shared/base/1/"
    xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
    xmlns:jrnl="http://www.lexis-nexis.com/glp/jrnl"
    xmlns:glp="http://www.lexis-nexis.com/glp"
    xmlns:dita="http://dita.oasis-open.org/architecture/2005/" version="2.0"
    exclude-result-prefixes="dita glp">

    <dita:topic xmlns="http://dita.oasis-open.org/architecture/2005/" id="CA15_Rosetta_level">
        <title>level <lnpid>id-CA15-35419</lnpid></title>
        <body>
            <p><sourcexml>level</sourcexml> becomes <targetxml>section</targetxml>. Attribute
                    <sourcexml>@leveltype</sourcexml> should be suppressed.</p>
            <example>
                <title>Source XML</title>
                <codeblock> &lt;jrnl:bodytext&gt; &lt;level leveltype="3"&gt; &lt;bodytext&gt;
                    &lt;p&gt; &lt;text&gt;CSA.8 -- Mutual Funds&lt;/text&gt; &lt;/p&gt; &lt;p&gt;
                    &lt;text&gt;December 12, 2013&lt;/text&gt; &lt;/p&gt; &lt;p&gt; &lt;text&gt;The
                    Canadian Securities Administrators (the "CSA") are publishing for a 90 day
                    comment period a CSA risk classification methodology (the "Proposed
                    Methodology") for use by mutual fund managers in the Fund Facts document ("Fund
                    Facts").&lt;/text&gt; &lt;/p&gt; &lt;/bodytext&gt; &lt;/level&gt;
                    &lt;/jrnl:bodytext&gt; </codeblock>
                <title>Target XML</title>
                <codeblock> &lt;nitf:body&gt; &lt;nitf:body.content&gt; &lt;bodytext&gt;
                    &lt;section&gt; &lt;bodytext&gt; &lt;p&gt; &lt;text&gt;CSA.8 -- Mutual
                    Funds&lt;/text&gt; &lt;/p&gt; &lt;p&gt; &lt;text&gt;December 12,
                    2013&lt;/text&gt; &lt;/p&gt; &lt;p&gt; &lt;text&gt;The Canadian Securities
                    Administrators (the "CSA") are publishing for a 90 day comment period a CSA risk
                    classification methodology (the "Proposed Methodology") for use by mutual fund
                    managers in the Fund Facts document ("Fund Facts").&lt;/text&gt; &lt;/p&gt;
                    &lt;/bodytext&gt; &lt;/section&gt; &lt;/bodytext&gt; &lt;/nitf:body.content&gt;
                    &lt;/nitf:body&gt; </codeblock>
            </example>
            <section>
                <title>Changes</title>
                <p>2015-02-17: <ph id="change_20150217_AS">Created.</ph></p>
            </section>
        </body>
    </dita:topic>

    <!--  @@@ This file has been autogenerated.  Remove this comment after manual development complete! @@@  -->
    <!--    Original DITA file location:  DITA\ConversionInstructions\Rosetta\DITA-CAN\CA15-Journal_Articles\CA15_Rosetta_level.dita  -->
    <!--<xsl:message>CA15_Rosetta_level.xsl requires manual development!</xsl:message> -->

    <xsl:template match="level">

        <!--  Original Target XPath:  section   -->
        <section>
            <xsl:apply-templates select="@* | node()"/>
        </section>

    </xsl:template>

    <xsl:template match="@leveltype">
        <!--  Original Target XPath:     -->
        <!--  Could not determine target element or attribute name:  <>  -->
        <!--  Could not determine target element or attribute name:  </>  -->
    </xsl:template>
    <xsl:template match="bodytext" priority="23">
        <bodytext>
            <xsl:apply-templates select="preceding-sibling::glp:note[parent::level]"/>
            <xsl:apply-templates select="@*|node()"/>
            <!--<xsl:apply-templates select="@* | node() except child::footnotegrp"/>
            <xsl:if test="footnotegrp/footnote | /JOURNALDOC/jrnl:body/jrnl:prelim/footnotegrp/footnote ">
            <p>
                <text>
                    <footnotegroup>
                        <xsl:apply-templates
                            select="/JOURNALDOC/jrnl:body/jrnl:prelim/footnotegrp/footnote | footnotegrp/footnote"/>
                    </footnotegroup>
                </text>
            </p>
            </xsl:if>-->
        </bodytext>
    </xsl:template>
</xsl:stylesheet>
