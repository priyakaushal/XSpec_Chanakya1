<?xml version="1.0" encoding="UTF-8"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:dita="http://dita.oasis-open.org/architecture/2005/" xmlns:docinfo="http://www.lexis-nexis.com/glp/docinfo" xmlns:classify="http://www.lexisnexis.com/xmlschemas/content/shared/classification/1/" xmlns:doc="http://www.lexisnexis.com/xmlschemas/content/shared/document-level-metadata/1/" version="2.0" exclude-result-prefixes="dita docinfo">

	<dita:topic xmlns="http://dita.oasis-open.org/architecture/2005/" id="Rosetta_TypeofInjury">
  <title>TypeofInjury <lnpid>id-UK03-27456</lnpid></title>
  <body>
    <p>
      <sourcexml>docinfo:custom-metafield/@name="TypeOfInjury"</sourcexml> becomes
      <targetxml>doc:metadata/doc:docinfo/classify:classification/@classscheme="TypeofInjury"/classify:classitem/classify:classitem-identifier/classify:classname</targetxml>.
      The source attribute <sourcexml>docinfo:custom-metafield/@searchtype</sourcexml> is dropped.
      <note>LBU should be sending these as <sourcexml>catchwords</sourcexml>.
        To be safe, a rule has been created to transform <sourcexml>docinfo:custom-metafield @name="TypeOfInjury"</sourcexml> to <targetxml>classify:classification</targetxml> markup.</note>
      
<pre>
&lt;DIGESTDOC&gt;
  &lt;docinfo&gt;
    &lt;docinfo:custom-metafields&gt;
       &lt;docinfo:custom-metafield name="TypeOfInjury" searchtype="INJURY-TYPE"&gt;Head Injuries; Brain Damage; Post-Traumatic Stress Disorder; Psychiatric Damage Generally; Shoulder Injuries;&lt;/docinfo:custom-metafield&gt;
     &lt;/docinfo:custom-metafields&gt;
  &lt;/docinfo&gt; 
&lt;/DIGESTDOC&gt;

<b>Becomes</b>
&lt;casedigest:casedigest&gt;  
  &lt;doc:metadata&gt;
    &lt;doc:docinfo&gt;
      &lt;classify:classification classscheme="TypeOfInjury"&gt;
        &lt;classify:classitem&gt;
          &lt;classify:classitem-identifier&gt;
            &lt;classify:classname&gt;Head Injuries; Brain Damage; Post-Traumatic Stress Disorder; Psychiatric Damage Generally; Shoulder Injuries;&lt;/classify:classname&gt;
          &lt;/classify:classitem-identifier&gt;
        &lt;/classify:classitem&gt;
      &lt;/classify:classification&gt;
    &lt;/doc:docinfo&gt;
  &lt;/doc:metadata&gt;
&lt;/casedigest:casedigest&gt;
</pre>          
    
    </p>
    <section>
      <title>Created</title>
      <p>2015-08-12</p>
    </section>
  </body>
	</dita:topic>

	<!--  @@@ This file has been autogenerated.  Remove this comment after manual development complete! @@@  -->
	<!--    Original DITA file location:  DITA\ConversionInstructions\Rosetta\DITA-UK\UK03_CaseDigest\Rosetta_TypeofInjury.dita  -->
	 


	<!-- Vikas Rohilla : Template to match the docinfo:custom-metafield [@name='TypeOfInjury'] -->
	<xsl:template match="docinfo:custom-metafield[@name='TypeOfInjury']">
		<doc:metadata>
			<doc:docinfo>
				<classify:classification>
					<classify:classitem>
						<classify:classitem-identifier>
							<classify:classname>
								<xsl:apply-templates select="@* | node()"/>
							</classify:classname>
						</classify:classitem-identifier>
					</classify:classitem>
				</classify:classification>
			</doc:docinfo>
		</doc:metadata>
	</xsl:template>

	<xsl:template match="docinfo:custom-metafield/@searchtype"/>

</xsl:stylesheet>