<?xml version="1.0" encoding="UTF-8"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:dita="http://dita.oasis-open.org/architecture/2005/" xmlns:location="http://www.lexisnexis.com/xmlschemas/content/shared/location/1/" version="2.0" exclude-result-prefixes="dita">

	<dita:topic xmlns="http://dita.oasis-open.org/architecture/2005/" id="IN03_Rosetta_address">
    <title>address <lnpid>id-IN03-39012</lnpid></title>
    <body>
        <section>
            <sourcexml>address</sourcexml> becomes <targetxml>location:address</targetxml>,
                attribute<sourcexml>@type </sourcexml> will becomes to <targetxml>@type</targetxml>
            with children as follows: <ul>
                <li><sourcexml>address/address.line</sourcexml> becomes
                        <targetxml>location:address/location:address.line</targetxml>.</li>
                <li><sourcexml>address/postalcode</sourcexml> becomes
                        <targetxml>location:address/location:postalcode</targetxml>.</li>
                <li><sourcexml>address/state</sourcexml> becomes
                        <targetxml>location:address/location:state</targetxml>. </li>
                <li><sourcexml>address/street</sourcexml> becomes
                        <targetxml>location:address/location:street</targetxml>.</li>
                <li><sourcexml>address/po-box</sourcexml> becomes
                        <targetxml>location:address/location:po-box</targetxml>.  </li>
                <li><sourcexml>address/city</sourcexml> becomes
                        <targetxml>location:address/location:city</targetxml>. </li>
                <li><sourcexml>address/country</sourcexml> becomes
                        <targetxml>location:address/location:country</targetxml>. </li>
            </ul><ul>
                <li>
                    <sourcexml>address/phone</sourcexml> becomes
                        <targetxml>location:address/contact:phone</targetxml>. </li>
                <li>
                    <sourcexml>address/email</sourcexml> becomes
                        <targetxml>location:address/contact:email</targetxml>. </li>
            </ul>
        </section>
        <section>
                <p>There can be scenarios where it appears that the single incoming <sourcexml>address.line</sourcexml> should either be split into multiple lines or has components that should be separated into other elements (e.g. email addresses, etc.).  These instructions suggest that those changes should occur in the source and that a 1-1 mapping remains in place.</p>            
        </section>
        
        <example>
            <title>Example 1:  Source XML</title>
            <codeblock>

&lt;address&gt;
	&lt;city&gt;Allahabad&lt;/city&gt;
&lt;/address&gt;

            </codeblock>
        </example>
        <example>
            <title>Example 1:  Target XML</title>
            <codeblock>

&lt;location:address&gt;
    &lt;location:city&gt;1690 Hollis Street, 2nd Floor&lt;/location:city&gt;
&lt;/address&gt;

	        </codeblock>
        </example>
        <example>
            <title>Example 2:  Source XML</title>
            <codeblock>
                
&lt;address&gt;
	&lt;address.line&gt;at Fort William,&lt;/address.line&gt;
	&lt;city&gt; in Bengal&lt;/city&gt;
&lt;/address&gt;

            </codeblock>
        </example>
        <example>
            <title>Example 2:  Target XML</title>
            <codeblock>
                
&lt;location:address&gt;
    &lt;location:address.line&gt;at Fort William,&lt;/location:address.line&gt;
    &lt;location:city&gt; in Bengal&lt;/location:city&gt;
&lt;/location:address&gt;

            </codeblock>
        </example>
        <section>
            <title>Changes</title>
            <p>2016-08-17: <ph id="change_20160817_HP">Created</ph>.</p>
        </section>
    </body>
	</dita:topic>

	<!--  @@@ This file has been autogenerated.  Remove this comment after manual development complete! @@@  -->
	<!--    Original DITA file location:  DITA\ConversionInstructions\Rosetta\DITA-IN\IN03_Cases\IN03_Rosetta_address.dita  -->
	<xsl:message>IN03_Rosetta_address.xsl requires manual development!</xsl:message> 

	<xsl:template match="address">

		<!--  Original Target XPath:  location:address   -->
		<location:address>
			<xsl:apply-templates select="@* | node()"/>
		</location:address>

	</xsl:template>

	<xsl:template match="@type ">

		<!--  Original Target XPath:  @type   -->
		<xsl:attribute name="type">
			<xsl:apply-templates select="node()"/>
		</xsl:attribute>

	</xsl:template>

	<xsl:template match="address/address.line">

		<!--  Original Target XPath:  location:address/location:address.line   -->
		<location:address>
			<location:address.line>
				<xsl:apply-templates select="@* | node()"/>
			</location:address.line>
		</location:address>

	</xsl:template>

	<xsl:template match="address/postalcode">

		<!--  Original Target XPath:  location:address/location:postalcode   -->
		<location:address>
			<location:postalcode>
				<xsl:apply-templates select="@* | node()"/>
			</location:postalcode>
		</location:address>

	</xsl:template>

	<xsl:template match="address/state">

		<!--  Original Target XPath:  location:address/location:state   -->
		<location:address>
			<location:state>
				<xsl:apply-templates select="@* | node()"/>
			</location:state>
		</location:address>

	</xsl:template>

	<xsl:template match="address/street">

		<!--  Original Target XPath:  location:address/location:street   -->
		<location:address>
			<location:street>
				<xsl:apply-templates select="@* | node()"/>
			</location:street>
		</location:address>

	</xsl:template>

	<xsl:template match="address/po-box">

		<!--  Original Target XPath:  location:address/location:po-box   -->
		<location:address>
			<location:po-box>
				<xsl:apply-templates select="@* | node()"/>
			</location:po-box>
		</location:address>

	</xsl:template>

	<xsl:template match="address/city">

		<!--  Original Target XPath:  location:address/location:city   -->
		<location:address>
			<location:city>
				<xsl:apply-templates select="@* | node()"/>
			</location:city>
		</location:address>

	</xsl:template>

	<xsl:template match="address/country">

		<!--  Original Target XPath:  location:address/location:country   -->
		<location:address>
			<location:country>
				<xsl:apply-templates select="@* | node()"/>
			</location:country>
		</location:address>

	</xsl:template>

	<xsl:template match="address/phone">

		<!--  Original Target XPath:  location:address/contact:phone   -->
		<location:address>
			<contact:phone xmlns:contact="http://www.lexisnexis.com/xmlschemas/content/shared/contact/1/">
				<xsl:apply-templates select="@* | node()"/>
			</contact:phone>
		</location:address>

	</xsl:template>

	<xsl:template match="address/email">

		<!--  Original Target XPath:  location:address/contact:email   -->
		<location:address>
			<contact:email xmlns:contact="http://www.lexisnexis.com/xmlschemas/content/shared/contact/1/">
				<xsl:apply-templates select="@* | node()"/>
			</contact:email>
		</location:address>

	</xsl:template>

	<xsl:template match="address.line">

		<!--  Original Target XPath:     -->
		<!--  Could not determine target element or attribute name:  <>  -->			<xsl:apply-templates select="@* | node()"/>
		<!--  Could not determine target element or attribute name:  </>  -->

	</xsl:template>

</xsl:stylesheet>