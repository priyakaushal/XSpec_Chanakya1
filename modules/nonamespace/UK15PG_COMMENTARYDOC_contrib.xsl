<?xml version="1.0" encoding="UTF-8"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
    xmlns="http://www.lexisnexis.com/xmlschemas/content/shared/base/1/"
    xmlns:dita="http://dita.oasis-open.org/architecture/2005/"
    xmlns:pubfm="http://www.lexisnexis.com/xmlschemas/content/shared/publication-front-matter/1/"
    version="2.0" exclude-result-prefixes="dita">

    <dita:topic xmlns="http://dita.oasis-open.org/architecture/2005/"
        id="UK15PG_COMMENTARYDOC_contrib">
        <title>contrib <lnpid>id-UK15-30413</lnpid></title>

        <body>
            <p><sourcexml>contrib</sourcexml> becomes <targetxml>pubfm:pubfm/byline</targetxml>.</p>
            <example>
                <title>Source XML</title>
                <codeblock> &lt;comm:info&gt; &lt;contrib contribtype="author"&gt; Produced in
                    partnership with &lt;org&gt;&lt;remotelink hrefclass="http"
                    href="lexislegalintelligence.co.uk/lexispsl/tax-experts" newwindow="YES"&gt;Anne
                    Fairpo of Atlas Chambers&lt;/remotelink&gt;&lt;/org&gt;&lt;/contrib&gt;
                    &lt;/comm:info&gt; </codeblock>
                <title>Target XML</title>
                <codeblock> &lt;seclaw:body&gt; &lt;pubfm:pubfm pubfmtype="contributor"&gt;
                    &lt;byline&gt;Produced in partnership with &lt;ref:lnlink service="URL"&gt;
                    &lt;ref:marker&gt;Anne Fairpo of Atlas Chambers&lt;/ref:marker&gt;
                    &lt;ref:locator&gt; &lt;ref:locator-key&gt; &lt;ref:key-name name="URL"/&gt;
                    &lt;ref:key-value
                    value="http://lexislegalintelligence.co.uk/lexispsl/tax-experts"/&gt;
                    &lt;/ref:locator-key&gt; &lt;/ref:locator&gt; &lt;/ref:lnlink&gt;&lt;/byline&gt;
                    &lt;/pubfm:pubfm&gt; ... &lt;/seclaw:body&gt; </codeblock>
            </example>
        </body>
    </dita:topic>

    <!--  @@@ This file has been autogenerated.  Remove this comment after manual development complete! @@@  -->
    <!--    Original DITA file location:  DITA\ConversionInstructions\Rosetta\DITA-UK\UK15-PracticalGuidance\UK15PG_COMMENTARYDOC_contrib.dita  -->
    <!--	<xsl:message>UK15PG_COMMENTARYDOC_contrib.xsl requires manual development!</xsl:message> -->

    <xsl:template match="contrib">
        <!--  Original Target XPath:  pubfm:pubfm/byline   -->
        <!--<pubfm:pubfm>
		    <xsl:attribute name="pubfmtype">contributor</xsl:attribute>-->
        <byline>

            <!--<xsl:apply-templates select="@* | node() except org"/>-->
            <!-- PK: added to remove entity:org from target but commenting now as it is having issues -->
            <xsl:apply-templates select="@* | node()"/>
        </byline>
        <!--</pubfm:pubfm>-->

    </xsl:template>

    <xsl:template match="org[parent::contrib]" priority="25">
        <xsl:apply-templates select="@* | node()"/>
    </xsl:template>
    
    <xsl:template match="contrib/@contribtype"/>
</xsl:stylesheet>
