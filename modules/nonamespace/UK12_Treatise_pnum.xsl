<?xml version="1.0" encoding="UTF-8"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:dita="http://dita.oasis-open.org/architecture/2005/" xmlns="http://www.lexisnexis.com/xmlschemas/content/shared/base/1/" version="2.0" exclude-result-prefixes="dita">

	<dita:topic xmlns="http://dita.oasis-open.org/architecture/2005/" id="UK12_Treatise_pnum">
  <title>pnum <lnpid>id-UK12-29822</lnpid></title>
  <body>
    <p><sourcexml>pnum[@inline]</sourcexml> becomes <targetxml>altdesig[@inline]</targetxml>. The
      attribute is optional.</p>
    <note>This mapping is specific to UK12-Treatise. Common rule is <sourcexml>pnum</sourcexml> to
        <targetxml>desig</targetxml>. The common rule is not included in the General Markup section
      because not applicable to UK12.</note>
    <pre>
        <b>EXAMPLE</b>
            
<b><i>Source XML</i></b>

&lt;p&gt;
   &lt;edpnum value="22" inline="false"&gt;[22]&lt;refpt id="02FO_1_PII:HTCOMM-DIV_22:HTCOMM-PARA" type="ext"/&gt;&lt;/edpnum&gt;
   &lt;pnum inline="false"&gt;Article 45 (ex Article 39 TEC)&lt;/pnum&gt;
   &lt;text&gt;Freedom of movement for workers shall be ...&lt;/text&gt;
&lt;/p&gt;
 
<b><i>Target XML</i></b>

&lt;p&gt;
   &lt;ref:anchor id="_02FO_1_PII:HTCOMM-DIV_22:HTCOMM-PARA" anchortype="global"/&gt;
   &lt;desig value="22" inline="false"&gt;[22]&lt;/desig&gt;
   &lt;altdesig inline="false"&gt;Article 45 (ex Article 39 TEC)&lt;/altdesig&gt;
   &lt;text&gt;Freedom of movement for workers shall be ...&lt;/text&gt;
&lt;/p&gt;

    </pre>
    <section>
      <title>Changes</title>
      <p>2014-01-13: <ph id="change_20140113_jm">New rule. Source <sourcexml>pnum</sourcexml> is new
          in Dec 2013 redelivery of dpsi 02FO.</ph></p></section>
  </body>
	</dita:topic>

	<!--  @@@ This file has been autogenerated.  Remove this comment after manual development complete! @@@  -->
	<!--    Original DITA file location:  DITA\ConversionInstructions\Rosetta\DITA-UK\UK12-Treatise\UK12_Treatise_pnum.dita  -->
<!--	<xsl:message>UK12_Treatise_pnum.xsl requires manual development!</xsl:message> -->

	<xsl:template match="pnum[@inline]">
	  <xsl:if test="not(parent::p/edpnum)">
	    <desig>
	      <xsl:comment>Mandatory element according to the CI</xsl:comment>
	    </desig>
	  </xsl:if>
	  <altdesig>
			<xsl:apply-templates select="@* | node()"/>
		</altdesig>

	</xsl:template>
  
  <xsl:template match="pnum/@inline">
    <xsl:attribute name="inline">
      <xsl:value-of select="."/>
    </xsl:attribute>
  </xsl:template>



</xsl:stylesheet>