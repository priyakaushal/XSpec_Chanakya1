<?xml version="1.0" encoding="UTF-8"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:dita="http://dita.oasis-open.org/architecture/2005/" 
	xmlns:form="http://www.lexisnexis.com/xmlschemas/content/shared/form/1/" xmlns:seclaw="http://www.lexisnexis.com/xmlschemas/content/legal/secondary-law/1/"
	xmlns:leg="http://www.lexis-nexis.com/glp/leg"
	xmlns:annotinfo="http://www.lexisnexis.com/xmlschemas/content/shared/annotations-info/1/"
	xmlns:admindoc="urn:x-lexisnexis:content:administrative-document:sharedservices:1"
	xmlns:docinfo="http://www.lexis-nexis.com/glp/docinfo" version="2.0" exclude-result-prefixes="dita leg docinfo">

	<dita:topic xmlns="http://dita.oasis-open.org/architecture/2005/" id="NZ12_levelinfo">
  <title><sourcexml>levelinfo</sourcexml> <lnpid>id-NZ12-levelinfo</lnpid></title>
  <body>
    <section>
    	<p><sourcexml>levelinfo</sourcexml> becomes <targetxml>admindoc:levelinfo</targetxml>. If parent / ancestor is leg:comntry,<sourcexml>levelinfo</sourcexml> becomes <targetxml>annotinfo:annotinfo</targetxml> 
        <note>If <sourcexml>levelinfo</sourcexml> contains only docinfo:currencystatement, docinfo:autorattribution, or both, it is suppressed.</note></p>
    </section>
  </body>
	</dita:topic>

	<!--  @@@ This file has been autogenerated.  Remove this comment after manual development complete! @@@  -->
	<!--    Original DITA file location:  DITA\ConversionInstructions\Rosetta\DITA-PAC\AU05_Comm_Form_Prec\Comm-Form-Pre_levelinfo.dita  -->


	<xsl:template match="levelinfo">
		<!-- make sure it has something to output-->
		<xsl:if test="child::*[not(self::docinfo:currencystatement)][not(self::docinfo:authorattribution)]">
			<xsl:choose>
				<xsl:when test="ancestor::leg:comntry">
					<annotinfo:annotinfo>
						<xsl:apply-templates select="@* | node()"/>
					</annotinfo:annotinfo>
				</xsl:when>
				<xsl:otherwise>
					<admindoc:levelinfo>
						<xsl:apply-templates select="@* | node()"/>
					</admindoc:levelinfo>
				</xsl:otherwise>
			</xsl:choose>		
		</xsl:if>
	</xsl:template>

	<!--<levelinfo>
            <docinfo:currencystatement>Last updated: <date year="2016" month="06" day="24">24 June
                2016</date></docinfo:currencystatement>
            <docinfo:authorattribution>
              <contrib ln.user-displayed="false">Saul Fridman LLB BCL(Oxon) and David Thorpe BA MCom
                LLB(Hons)</contrib>
            </docinfo:authorattribution>
          </levelinfo> -->

	<xsl:template match="level[starts-with(@leveltype, 'prec') or starts-with (@leveltype , 'form')]/levelinfo" priority="20">
		<form:info>
			<xsl:apply-templates select="@* | node()"/>
		</form:info>
	</xsl:template>

	

</xsl:stylesheet>