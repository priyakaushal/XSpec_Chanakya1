<?xml version="1.0" encoding="UTF-8"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:dita="http://dita.oasis-open.org/architecture/2005/" 
  xmlns:case="http://www.lexis-nexis.com/glp/case"
  xmlns="http://www.lexisnexis.com/xmlschemas/content/shared/base/1/"
  xmlns:classify="http://www.lexisnexis.com/xmlschemas/content/shared/classification/1/"
 xmlns:caseinfo="http://www.lexisnexis.com/xmlschemas/content/legal/case-information/1/"
  version="2.0" exclude-result-prefixes="dita">

	<dita:topic xmlns="http://dita.oasis-open.org/architecture/2005/" id="HK03_Rosetta_case.info-LxAdv_caseinfo.caseinfo">
  <title>case:info <lnpid>id-HK03-37218</lnpid></title>
  <body>
    <section conref="../../common_caselaw/conref_content/Rosetta_case.info-LxAdv_caseinfo.caseinfo.dita#Rosetta_case.info-LxAdv_caseinfo.caseinfo/mapping"/>
    <example>
      <codeblock>
&lt;case:info&gt;
  ...
&lt;/case:info&gt;
      </codeblock>
      <b>becomes</b>
      <codeblock>
&lt;caseinfo:caseinfo&gt;
  ...
&lt;/caseinfo:caseinfo&gt;
            </codeblock>
    </example>
   
    <note> if <sourcexml>page</sourcexml> is child of <sourcexml>case:info</sourcexml> then
      conversion needs to create <targetxml>ref:page</targetxml> under
      <targetxml>caseinfo:caseinfo/classify:classification/classify:classitem/classify:classitem-identifier/
        classify:classname</targetxml>, i.e, <p><sourcexml>case:info/page</sourcexml>becomes
          <targetxml>caseinfo:caseinfo/classify:classification/classify:classitem/classify:classitem-identifier/
            classify:classname/ref:page </targetxml>
        </p><p/>
    </note>
    <example>
      <codeblock>
<![CDATA[
<case:info>
    <page reporter="hkc" count="206" text="[1996] 4 HKC 205 at " subdoc="true"/>
</case:info>
]]>
         </codeblock>
      <b>becomes</b>
      <codeblock>
   <![CDATA[ 
   <caseinfo:caseinfo>
<classify:classification>
    <classify:classitem>
        <classify:classitem-identifier>
            <classify:classname>
                <ref:page num="206" page-scheme="hkc" page-scheme-type="reporter-abbreviation"/>
            </classify:classname>
        </classify:classitem-identifier>
    </classify:classitem>
</classify:classification>
</caseinfo:caseinfo>

   ]]>
         </codeblock>
    </example>
    <!--<section
      conref="../../common_caselaw/conref_content/Rosetta_case.info-LxAdv_caseinfo.caseinfo.dita#Rosetta_case.info-LxAdv_caseinfo.caseinfo/changes"/>-->
    <!--<section>
      <title>Changes Specific to AU01</title>
      </section>-->
    <section>
      <title>Changes</title>
      <p>2017-10-09: <ph id="change_20171009_RS">Added an instruction for handling <sourcexml>page</sourcexml> is child of
        <sourcexml>case:info</sourcexml>.</ph></p>
    </section>
  </body>
	</dita:topic>

	<!--  @@@ This file has been autogenerated.  Remove this comment after manual development complete! @@@  -->
	<!--    Original DITA file location:  DITA\ConversionInstructions\Rosetta\DITA-HK\HK03\HK03_Rosetta_case.info-LxAdv_caseinfo.caseinfo.dita  -->
	
  <xsl:template match="case:info">
    <caseinfo:caseinfo>
      <xsl:apply-templates select="@* | node() except case:reportercite[@searchtype='BCNUM']"/>
      <xsl:apply-templates select="case:courtinfo/case:judges[ancestor::case:headnote]"/>
      <!-- Awantika: 2018-03-29- Removed filenum from here as it was being created twice. VSTS Bug #459199 -->
      <!--<xsl:apply-templates select="case:courtinfo/case:filenum"/>-->
      <xsl:apply-templates select="case:courtinfo/case:dates"/>
      <xsl:apply-templates select="case:courtinfo/case:courtcite"/>
      <xsl:apply-templates select="//catchwordgrp"/>
    </caseinfo:caseinfo>
  </xsl:template>

  
  <xsl:template match="case:info/page">
    <xsl:apply-templates select="@* | node()"/>
  </xsl:template>

</xsl:stylesheet>