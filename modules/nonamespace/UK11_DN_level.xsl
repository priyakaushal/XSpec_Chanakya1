<?xml version="1.0" encoding="UTF-8"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" 
  xmlns:dita="http://dita.oasis-open.org/architecture/2005/" 
  xmlns="http://www.lexisnexis.com/xmlschemas/content/shared/base/1/"
  xmlns:dig="http://www.lexis-nexis.com/glp/dig"
  xmlns:nitf="http://iptc.org/std/NITF/2006-10-18/" version="2.0" exclude-result-prefixes="dita dig">

	<dita:topic xmlns="http://dita.oasis-open.org/architecture/2005/" id="UK11_DN_level">
  <title>level <lnpid>id-UK11DN-29617</lnpid></title>
  <body>
    <section>
      <p><sourcexml>level[@leveltype]</sourcexml> becomes
          <targetxml>nitf:body.content/bodytext/section[@sectiontype]</targetxml>.</p></section>
    <note>Maintain nesting.</note>
    <note>Value of <sourcexml>@leveltype</sourcexml> should be changed to lower case for <targetxml>@sectiontype</targetxml>.</note>

    <pre>
              <b><i>Example: Source XML 1</i></b>
                  

&lt;dig:body&gt;
  &lt;level leveltype="Summary"&gt;
    &lt;bodytext&gt;
      &lt;p&gt;
       &lt;text&gt;The court, in refusing to...&lt;/text&gt;
      &lt;/p&gt;
    &lt;/bodytext&gt;
    &lt;level leveltype="Section"&gt;
      &lt;heading&gt;
        &lt;title&gt;Whether to grant...&lt;/title&gt;
      &lt;/heading&gt;
      &lt;level leveltype="Subsection"&gt;
        &lt;heading&gt;
          &lt;title&gt;Other creditors&lt;/title&gt;
        &lt;/heading&gt;
        &lt;bodytext&gt;
          &lt;p&gt;
            &lt;text&gt;It was argued...&lt;/text&gt;
          &lt;/p&gt;
        &lt;/bodytext&gt;
      &lt;/level&gt;
    &lt;/level&gt;
  &lt;/level&gt;
&lt;/dig:body&gt;
 
	</pre>
    <pre>
                    
              <b><i>Example: Target XML 1</i></b>
    
&lt;nitf:body&gt;
  &lt;nitf:body.content&gt;
    &lt;bodytext&gt;
      &lt;section sectiontype="summary"&gt;
        &lt;bodytext&gt;
          &lt;p&gt;
           &lt;text&gt;The court, in refusing to...&lt;/text&gt;
          &lt;/p&gt;
        &lt;/bodytext&gt;
        &lt;section sectiontype="section"&gt;
          &lt;heading&gt;
            &lt;title&gt;Whether to grant...&lt;/title&gt;
          &lt;/heading&gt;
          &lt;section sectiontype="subsection"&gt;
            &lt;heading&gt;
              &lt;title&gt;Other creditors&lt;/title&gt;
            &lt;/heading&gt;
            &lt;bodytext&gt;
              &lt;p&gt;
                &lt;text&gt;It was argued...&lt;/text&gt;
              &lt;/p&gt;
            &lt;/bodytext&gt;
          &lt;/section&gt;
        &lt;/section&gt;
      &lt;/section&gt;
    &lt;/bodytext&gt;
  &lt;/nitf:body.content&gt;
&lt;/nitf:body&gt;

                </pre>
  </body>
	</dita:topic>

	<!--  @@@ This file has been autogenerated.  Remove this comment after manual development complete! @@@  -->
	<!--    Original DITA file location:  DITA\ConversionInstructions\Rosetta\DITA-UK\UK11DN-Digest-Newsitem\UK11_DN_level.dita  -->
	 
<!-- make seperate templates -->
	<xsl:template match="level">

		<!--  Original Target XPath:  nitf:body.content/bodytext/section[@sectiontype]   -->
	 <xsl:if test="parent::dig:body">	  
	     <section>	     
	       <xsl:apply-templates select="@* | node()"/>
	     </section>
	   
	 </xsl:if>	
	  <xsl:if test="parent::level">
	    <section>	      
	      <xsl:apply-templates select="@*"/>
	      <xsl:apply-templates select="heading/descendant::refpt"/>
	      <xsl:apply-templates select="node()"/>	     
	    </section>
	  </xsl:if>
	</xsl:template>
 

  <xsl:template match="level/@leveltype">
    <xsl:attribute name="sectiontype">
    <xsl:value-of select="."/>
    </xsl:attribute>    
  </xsl:template>


</xsl:stylesheet>