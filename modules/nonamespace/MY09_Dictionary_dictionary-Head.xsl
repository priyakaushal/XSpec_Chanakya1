<?xml version="1.0" encoding="UTF-8"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:dita="http://dita.oasis-open.org/architecture/2005/" xmlns:source_dict="http://www.lexis-nexis.com/glp/dict" xmlns:dict="urn:x-lexisnexis:content:dict:sharedservices:1" version="2.0" exclude-result-prefixes="dita dict">

	<dita:topic xmlns="http://dita.oasis-open.org/architecture/2005/" id="dictionary-Head">
  <title>Head <lnpid>id-MY09-17808</lnpid></title>
  <body>
    <p><sourcexml>dict:body/heading</sourcexml> becomes
      <targetxml>dict:head/heading</targetxml></p>
    <note>If <sourcexml>dict:body/heading/desig/designum</sourcexml> have <sourcexml>refpt</sourcexml> as child then move target mapping of <sourcexml>refpt</sourcexml> to 
      <targetxml>dict:body/dict:defitem/tei:entry/tei:form/tei:orth/ref:anchor</targetxml></note>
    <example>
      <title>Source XML</title>
      <codeblock>
&lt;dict:body&gt;
    &lt;heading&gt;
        &lt;desig&gt;
            &lt;designum&gt;
                &lt;refpt id="P0382" type="ext"&gt;
                    [P0382]
                &lt;/refpt&gt;
            &lt;/designum&gt;
        &lt;/desig&gt;
    &lt;/heading&gt;
    &lt;dict:term-entry&gt;
        &lt;defterm&gt;POSSESSION&lt;/defterm&gt;
    &lt;/dict:term-entry&gt;
&lt;/dict:body&gt;
	</codeblock>
    </example>
    <example>
      <title>Target XML</title>
      <codeblock>
&lt;dict:head&gt;
    &lt;heading&gt;
        &lt;desig&gt;[P0382]&lt;/desig&gt;
    &lt;/heading&gt;
&lt;/dict:head&gt;
&lt;dict:body&gt;
    &lt;dict:defitem&gt;
        &lt;tei:entry&gt;
            &lt;tei:form&gt;
                &lt;tei:orth norm="possession"&gt;
                    &lt;ref:anchor id="P0382" anchortype="global"&gt;
                        &lt;ref:anchortext&gt;POSSESSION&lt;/ref:anchortext&gt;
                    &lt;/ref:anchor&gt;
                &lt;/tei:orth&gt;
            &lt;/tei:form&gt;
        &lt;/tei:entry&gt;
    &lt;/dict:defitem&gt;
&lt;/dict:body&gt;
	</codeblock>
    </example>
    <section>
      <title>Changes</title>
      <p>2015-12-07: <ph id="change_20151207_HP">Created</ph>.</p>
    </section>
  </body>
	</dita:topic>

	<!--  @@@ This file has been autogenerated.  Remove this comment after manual development complete! @@@  -->
	<!--    Original DITA file location:  DITA\ConversionInstructions\Rosetta\DITA-MY\MY09_Dictionary\dictionary-Head.dita  -->
	<xsl:message>MY09_Dictionary_dictionary-Head.xsl requires manual development!</xsl:message> 

	<xsl:template match="dict:body/heading"><!--  TODO:  correct match pattern to prepend "source_" in front of appropriate ns prefixes!!  -->

		<!--  Original Target XPath:  dict:head/heading   -->
		<dict:head>
			<heading>
				<xsl:apply-templates select="@* | node()"/>
			</heading>
		</dict:head>

	</xsl:template>

	<xsl:template match="dict:body/heading/desig/designum"><!--  TODO:  correct match pattern to prepend "source_" in front of appropriate ns prefixes!!  -->

		<!--  Original Target XPath:  dict:body/dict:defitem/tei:entry/tei:form/tei:orth/ref:anchor   -->
		<dict:body>
			<dict:defitem>
				<tei:entry xmlns:tei="http://www.tei-c.org/ns/1.0/">
					<tei:form>
						<tei:orth>
							<ref:anchor xmlns:ref="http://www.lexisnexis.com/xmlschemas/content/shared/reference/1/">
								<xsl:apply-templates select="@* | node()"/>
							</ref:anchor>
						</tei:orth>
					</tei:form>
				</tei:entry>
			</dict:defitem>
		</dict:body>

	</xsl:template>

	<xsl:template match="refpt"><!--  TODO:  correct match pattern to prepend "source_" in front of appropriate ns prefixes!!  -->

		<!--  Original Target XPath:  dict:body/dict:defitem/tei:entry/tei:form/tei:orth/ref:anchor   -->
		<dict:body>
			<dict:defitem>
				<tei:entry xmlns:tei="http://www.tei-c.org/ns/1.0/">
					<tei:form>
						<tei:orth>
							<ref:anchor xmlns:ref="http://www.lexisnexis.com/xmlschemas/content/shared/reference/1/">
								<xsl:apply-templates select="@* | node()"/>
							</ref:anchor>
						</tei:orth>
					</tei:form>
				</tei:entry>
			</dict:defitem>
		</dict:body>

	</xsl:template>

</xsl:stylesheet>