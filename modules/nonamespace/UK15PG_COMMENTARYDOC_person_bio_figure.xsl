<?xml version="1.0" encoding="UTF-8"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns="http://www.lexisnexis.com/xmlschemas/content/shared/base/1/" xmlns:dita="http://dita.oasis-open.org/architecture/2005/" xmlns:docinfo="http://www.lexis-nexis.com/glp/docinfo" version="2.0" exclude-result-prefixes="dita docinfo">

	<dita:topic xmlns="http://dita.oasis-open.org/architecture/2005/" id="UK15PG_COMMENTARYDOC_person_bio_figure">
    <title>person[ancestor::docinfo:assoc-links-grp]/bio/figure <lnpid>id-UK15-30426</lnpid></title>
    <body>
        <section>
            <p>When <sourcexml>person/bio/figure</sourcexml> occurs inside
                    <sourcexml>docinfo:assoc-links-grp</sourcexml>, <sourcexml>person</sourcexml>
                and <sourcexml>bio</sourcexml> are suppressed, but <sourcexml>figure</sourcexml>
                maps to <targetxml>figure</targetxml> as described in <xref href="../../common_newest/Rosetta_figure-LxAdv-figure.dita"/>.</p>
        </section>
        <example>
            <codeblock>
&lt;docinfo:assoc-links-grp assoc-content="recommended-documents"&gt;
    &lt;heading&gt;
        &lt;title&gt;Lawrence Milner recommends&lt;/title&gt;
    &lt;/heading&gt;
    &lt;text&gt;
        &lt;person&gt;
            &lt;bio&gt;
                &lt;figure&gt;
                    &lt;caption&gt;Head of PSL IP&amp;amp;IT&lt;/caption&gt;
                    &lt;inlineobject filename="Lawrence Milner.jpg"/&gt;
                &lt;/figure&gt;
            &lt;/bio&gt;
        &lt;/person&gt;
    &lt;/text&gt;
    ...
&lt;/docinfo:assoc-links-grp&gt;
            </codeblock>
            <b>becomes</b>
            <codeblock>
&lt;doc:related-content-grp grptype="recommended-documents"&gt;
    &lt;heading&gt;
        &lt;title&gt;Lawrence Milner recommends&lt;/title&gt;
    &lt;/heading&gt;
    &lt;doc:related-content-item&gt;
        &lt;doc:related-content-desc&gt;
            &lt;p&gt;
                &lt;text&gt;
                    &lt;figure&gt;
                        &lt;caption&gt;
                            &lt;p&gt;
                                &lt;text&gt;Head of PSL IP&amp;amp;IT&lt;/text&gt;
                            &lt;/p&gt;
                        &lt;/caption&gt;
                        &lt;ref:inlineobject&gt;
                            &lt;ref:locator&gt;
                                &lt;ref:locator-key&gt;
                                    &lt;ref:key-name name="object-key"/&gt;
                                    &lt;ref:key-value value="Lawrence Milner.jpg"/&gt;
                                &lt;/ref:locator-key&gt;
                                &lt;ref:locator-params&gt;
                                    &lt;proc:param name="object-type" value="IMG"/&gt;
                                    &lt;proc:param name="external-or-local" value="external"/&gt;
                                    &lt;proc:param name="object-server" value="Blobstore"/&gt;
                                    &lt;proc:param name="object-pguid" value="urn:contentItem:0000-0000-0000-0000-00000-00"/&gt;
                                    &lt;proc:param name="componentseq" value="1"/&gt;
                                &lt;/ref:locator-params&gt;
                            &lt;/ref:locator&gt;
                        &lt;/ref:inlineobject&gt;
                    &lt;/figure&gt;
                &lt;/text&gt;
            &lt;/p&gt;
        &lt;/doc:related-content-desc&gt;
    &lt;/doc:related-content-item&gt;
    ...
&lt;/doc:related-content-grp&gt;
           </codeblock>
        </example>
        <section>
            <title>Changes</title>
            <p>2016-12-14: <ph id="change_20161214_JM">Not a rule change directly to this module.
                    Modified Example Target to reflect blobstore markup for ref:inlineobject; all
                    paramater names that formerly contained the word "attachment" are now
                    "object".</ph></p>
            <p>2016-08-03: <ph id="change_20160803_JM">Not a rule change directly to this module.
                    Modified Example Target to reflect blobstore markup.</ph></p>
            <p>2013-07-15: <ph id="change_20130715_DSF">Created.</ph></p>
        </section>
    </body>
	</dita:topic>

	<!--  @@@ This file has been autogenerated.  Remove this comment after manual development complete! @@@  -->
	<!--    Original DITA file location:  DITA\ConversionInstructions\Rosetta\DITA-UK\UK15-PracticalGuidance\UK15PG_COMMENTARYDOC_person_bio_figure.dita  -->
<!--	<xsl:message>UK15PG_COMMENTARYDOC_person_bio_figure.xsl requires manual development!</xsl:message> -->

	<xsl:template match="person/bio/figure">

		<!--  Original Target XPath:  figure   -->
		<figure>
			<xsl:apply-templates select="@* | node()"/>
		</figure>

	</xsl:template>

	<!--<xsl:template match="docinfo:assoc-links-grp">

		<!-\-  Original Target XPath:  figure   -\->
		<figure>
			<xsl:apply-templates select="@* | node()"/>
		</figure>

	</xsl:template>-->

	<xsl:template match="person">

		<!--  Original Target XPath:  figure   -->
		
			<xsl:apply-templates select="@* | node()"/>
		

	</xsl:template>

	<xsl:template match="bio">

		<!--  Original Target XPath:  figure   -->
		
			<xsl:apply-templates select="@* | node()"/>
		

	</xsl:template>

	<xsl:template match="figure">

		<!--  Original Target XPath:  figure   -->
		<figure>
			<xsl:apply-templates select="@* | node()"/>
		</figure>

	</xsl:template>
    
    <xsl:template match="caption">
        <xsl:element name="caption" xmlns="http://www.lexisnexis.com/xmlschemas/content/shared/base/1/">
            <xsl:element name="p">
                <xsl:element name="text">
                    <xsl:apply-templates/>
                </xsl:element>
            </xsl:element>
        </xsl:element>
    </xsl:template>

</xsl:stylesheet>