<?xml version="1.0" encoding="UTF-8"?>
<xsl:stylesheet xmlns="http://www.lexisnexis.com/xmlschemas/content/shared/base/1/"
	xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
	xmlns:dita="http://dita.oasis-open.org/architecture/2005/"
	xmlns:classify="http://www.lexisnexis.com/xmlschemas/content/shared/classification/1/"
	xmlns:comm="http://www.lexis-nexis.com/glp/comm"
	xmlns:pubfm="http://www.lexisnexis.com/xmlschemas/content/shared/publication-front-matter/1/"
	xmlns:form="http://www.lexisnexis.com/xmlschemas/content/shared/form/1/"
	xmlns:seclaw="http://www.lexisnexis.com/xmlschemas/content/legal/secondary-law/1/" version="2.0"
	exclude-result-prefixes="dita comm">

	<dita:topic xmlns="http://dita.oasis-open.org/architecture/2005/"
		id="UK14_Precedents_comm.info-contrib-org">
		<title>comm:info, contrib, and org <lnpid>id-UK14-30209</lnpid></title>
		<body>
			<p><sourcexml>comm:info/contrib[@contribtype]</sourcexml> becomes
					<targetxml>seclaw:body/pubfm:pubfm[@pubfmtype]/byline</targetxml>.</p>
			<p>For child <sourcexml>org</sourcexml>, i.e. <sourcexml>contrib/org</sourcexml>,
				suppress the <sourcexml>org</sourcexml> tag but retain its content.</p>
			<section>
				<title>
					<b>A Note on Data</b>
				</title>
				<p>Delivered data do not contain <sourcexml>remotelink</sourcexml>. Usual structure
					in other products is <sourcexml>org/remotelink</sourcexml> providing link to a
					Lexis list of experts. LBU is checking and <sourcexml>remotelink</sourcexml> may
					be present in later iterations. This conversion instruction is not affected. Tag
						<sourcexml>org</sourcexml> is suppressed and content retained; if
						<sourcexml>remotelink</sourcexml> is present it will convert according to
					common rules (General Markup section).</p>
			</section>
			<pre>
        <b>EXAMPLE</b>
            
<b><i>Source XML</i></b>

&lt;COMMENTARYDOC&gt;
  &lt;comm:info&gt;
    &lt;contrib contribtype="accreditation"&gt;Produced in partnership with &lt;org&gt;Paul 
           Jordan and Sacha Wilson of Bristows&lt;/org&gt;&lt;/contrib&gt;
  &lt;/comm:info&gt;
  &lt;comm:body&gt;
    &lt;level leveltype="precedent"&gt;
      &lt;bodytext&gt;
        &lt;form&gt;
         ...
        &lt;/form&gt;
      &lt;/bodytext&gt;
    &lt;/level&gt;
  &lt;/comm:body&gt;
&lt;/COMMENTARYDOC&gt;
 
<b><i>Target XML</i></b>

&lt;seclaw:seclaw&gt;
  &lt;seclaw:body&gt;
    &lt;pubfm:pubfm pubfmtype="accreditation"&gt;
      &lt;byline&gt;Produced in partnership with Paul Jordan and 
                Sacha Wilson of Bristows&lt;/byline&gt;
    &lt;/pubfm:pubfm&gt;
    &lt;form:form&gt;
     ... 
    &lt;/form:form&gt;
  &lt;/seclaw:body&gt;
&lt;/seclaw:seclaw&gt;

        </pre>
			<section>
				<title>Changes</title>
				<p>2013-05-28: <ph id="change_20130528_jm">Added rule to map
							<sourcexml>@contribtype</sourcexml> to
						<targetxml>@pubfmtype</targetxml>.</ph>.</p>
			</section>
		</body>
	</dita:topic>

	<!--  @@@ This file has been autogenerated.  Remove this comment after manual development complete! @@@  -->
	<!--    Original DITA file location:  DITA\ConversionInstructions\Rosetta\DITA-UK\UK14-Precedents\UK14_Precedents_comm.info-contrib-org.dita  -->
	<!--<xsl:message>UK14_Precedents_comm.info-contrib-org.xsl requires manual development!</xsl:message> -->

	<xsl:template match="comm:info">
		<xsl:apply-templates select="@* | node()"/>
	</xsl:template>

	<xsl:template match="comm:info/contrib[@contribtype]">
		<pubfm:pubfm>
			<xsl:apply-templates select="@*"/>
			<byline>
				<xsl:apply-templates select="node()"/>
			</byline>
		</pubfm:pubfm>

	</xsl:template>

	<xsl:template match="contrib/@contribtype">
		<xsl:attribute name="pubfmtype">
			<xsl:value-of select="."/>
		</xsl:attribute>
	</xsl:template>

	<xsl:template match="comm:info/classification">
		<form:form>
			<form:document annotated="false" official="false" typeofdoc="unnamed">
				<form:info>
		<classify:classification>
			<xsl:apply-templates select="@* | node()"/>
		</classify:classification>
				</form:info>
			</form:document>
		</form:form>
	</xsl:template>

	<xsl:template match="classitem">
		<classify:classitem>
			<xsl:apply-templates select="@* | node()"/>
		</classify:classitem>
	</xsl:template>

	<xsl:template match="classitem-identifier">
		<classify:classitem-identifier>
			<xsl:apply-templates select="@* | node()"/>
		</classify:classitem-identifier>
	</xsl:template>

	<xsl:template match="classname">
		<classify:classname>
			<xsl:apply-templates select="@* | node()"/>
		</classify:classname>
	</xsl:template>

	<xsl:template match="classcode">
		<classify:classcode>
			<xsl:apply-templates select="@* | node()"/>
		</classify:classcode>
	</xsl:template>

	<xsl:template match="classcode/@normval">
		<xsl:attribute name="normval">
			<xsl:value-of select="."/>
		</xsl:attribute>
	</xsl:template>

	<xsl:template match="contrib/org">
		<!--  Original Target XPath:  @pubfmtype   -->
		<xsl:apply-templates select="node()"/>
	</xsl:template>


</xsl:stylesheet>
