<?xml version="1.0" encoding="UTF-8"?>
<xsl:stylesheet xmlns:legisinfo="http://www.lexisnexis.com/xmlschemas/content/legal/legislation-info/1/" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:dita="http://dita.oasis-open.org/architecture/2005/" xmlns:leg="http://www.lexis-nexis.com/glp/leg" xmlns:regulation="urn:x-lexisnexis:content:regulation:sharedservices:1" version="2.0" exclude-result-prefixes="dita leg">

	<dita:topic xmlns="http://dita.oasis-open.org/architecture/2005/" id="leg.officialname">
  <title>leg:officialname <lnpid>id-UK07-28222</lnpid></title>
  <body>
    <section>
      <p><sourcexml>leg:info/leg:officialname</sourcexml> becomes
        <targetxml>regulation:head/primlawinfo:primlawinfo/legisinfo:legisinfo/legisinfo:names/legisinfo:officialtitle</targetxml></p>
      <note>
        If <sourcexml>emph</sourcexml> occurs within <sourcexml>leg:officialname</sourcexml> with the attribute's value <sourcexml>emph[@typesytle="it"]</sourcexml> or <sourcexml>emph[@typesytle="un"]</sourcexml> will be retained and all other <sourcexml>emph</sourcexml> will be omitted from the NL conversion.</note>
    </section>
    <example>
      <title>Mapping of <sourcexml>leg:officialname</sourcexml></title>
      <codeblock>

&lt;leg:officialname&gt;BEE REGULATION&lt;/leg:officialname&gt;

      </codeblock>
      <b>Becomes</b>
      <codeblock>

&lt;legisinfo:names&gt;
   &lt;legisinfo:officialtitle&gt;BEE REGULATION&lt;/legisinfo:officialtitle&gt;
&lt;/legisinfo:names&gt;   

       </codeblock>
    </example>    
  </body>
	</dita:topic>

	<!--  @@@ This file has been autogenerated.  Remove this comment after manual development complete! @@@  -->
	<!--    Original DITA file location:  DITA\ConversionInstructions\Rosetta\DITA-UK\UK07-Regulations\leg.officialname.dita  -->
	

	<xsl:template match="leg:info/leg:officialname">

		<!--  Original Target XPath:  regulation:head/primlawinfo:primlawinfo/legisinfo:legisinfo/legisinfo:names/legisinfo:officialtitle   -->
	  <legisinfo:legisinfo>
	  <legisinfo:names>
	    <xsl:apply-templates select="preceding-sibling::popname"/>
	    <legisinfo:officialtitle>
	      <xsl:apply-templates select="@* | node()"/>
	    </legisinfo:officialtitle>
	   </legisinfo:names>
	    <xsl:apply-templates select="following-sibling::leg:history"/>
	    <xsl:apply-templates select="following-sibling::leg:status"/>

	  </legisinfo:legisinfo> 
	 
	  </xsl:template>
  <xsl:template match="leg:officialname/emph">
    <xsl:value-of select="."/>
    <xsl:if test="leg:officialname/emph[not(@typesytle='it')] or leg:officialname/emph[not(@typesytle='it')]"/>
   </xsl:template>

</xsl:stylesheet>