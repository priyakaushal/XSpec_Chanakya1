<?xml version="1.0" encoding="UTF-8"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:dita="http://dita.oasis-open.org/architecture/2005/" xmlns:leg="http://www.lexis-nexis.com/glp/leg" version="2.0" exclude-result-prefixes="dita leg">

	<dita:topic xmlns="http://dita.oasis-open.org/architecture/2005/" id="legis-leg.officialname">
  <title><sourcexml>leg:officialname</sourcexml>
        <lnpid>id-UK22CF-39016</lnpid>
    </title>
  <body>
   <section>
       <p><sourcexml>leg:officialname</sourcexml> becomes
                    <targetxml>/legisinfo:legisinfo/legisinfo:names/legisinfo:officialtitle[@source="editoriallyassigned"]</targetxml>
                <note>If <sourcexml>emph</sourcexml> occurs within
                        <sourcexml>leg:officialname</sourcexml> with the attribute's value
                        <sourcexml>emph/@typestyle="it"</sourcexml> or
                        <sourcexml>emph/@typestyle="un"</sourcexml> will be retained and all other
                        <sourcexml>emph</sourcexml> will be omitted from the NL conversion.</note>
                <note>For handling <b>@ln.user-displayed</b> attribute, refer the general markup
                        <xref href="../../common_newest/Rosetta_leg.officialnum_ln.user-displayed-LxAdv-primlawinfo.identifier_source.dita">ln.user_displayed="false"</xref> section in the CI.</note>
            </p>
   </section>
   <example>
            <codeblock>

&lt;leg:info&gt;
        &lt;leg:officialnum&gt;SI 1955/156 &lt;leg:year&gt;1955 &lt;/leg:year&gt;
            &lt;leg:seriesnum&gt;156 &lt;/leg:seriesnum&gt;
        &lt;/leg:officialnum&gt;
        &lt;leg:officialname&gt;Consular Conventions (Income Tax) (Kingdom of Norway) Order 1955 &lt;/leg:officialname&gt;
        &lt;leg:dates&gt;
            &lt;leg:enactdate&gt;Made &lt;date day="01" month="02" year="1955"&gt;1 February 1955 &lt;/date&gt;
            &lt;/leg:enactdate&gt;
        &lt;/leg:dates&gt;
    &lt;/leg:info&gt;

    </codeblock>
            <b>Becomes</b>
            <codeblock>
&lt;primlaw:levelinfo&gt;
        &lt;primlawinfo:primlawinfo&gt;
            &lt;primlawinfo:identifier idtype="officialnum"&gt;SI 1955/156
                &lt;primlawinfo:identifier-component type="1955"&gt;1955&lt;/primlawinfo:identifier-component&gt;
                &lt;primlawinfo:identifier-component type="156"&gt;156&lt;/primlawinfo:identifier-component&gt;
            &lt;/primlawinfo:identifier&gt;
            &lt;legisinfo:legisinfo&gt;
                &lt;legisinfo:names&gt;
                    &lt;legisinfo:officialtitle source="editoriallyassigned"
                        &gt;Consular Conventions (Income Tax) (Kingdom of Norway)
                        Order 1955 &lt;/legisinfo:officialtitle&gt;
                &lt;/legisinfo:names&gt;
            &lt;/legisinfo:legisinfo&gt;
            &lt;primlawinfo:dates&gt;
                &lt;primlawinfo:enactdate day="01" month="02" year="1955" normdate="1955-02-01"&gt;Made
                    &lt;date-text&gt;1 February 1955 &lt;/date-text&gt;
                &lt;/primlawinfo:enactdate&gt;
            &lt;/primlawinfo:dates&gt;
        &lt;/primlawinfo:primlawinfo&gt;
    &lt;/primlaw:levelinfo&gt;
    </codeblock>
        </example>
   <section>
    <title>Changes</title>
     
    <p>2016-09-19: <ph id="change_20160919_RS">Created</ph></p>
   </section>
  </body>
	</dita:topic>

	<!--  @@@ This file has been autogenerated.  Remove this comment after manual development complete! @@@  -->
	<!--    Original DITA file location:  DITA\ConversionInstructions\Rosetta\DITA-UK\UK22CF\legis-leg.officialname.dita  -->
	

	<xsl:template match="leg:officialname">

		<!--  Original Target XPath:  /legisinfo:legisinfo/legisinfo:names/legisinfo:officialtitle[@source="editoriallyassigned"]   -->
		<legisinfo:legisinfo xmlns:legisinfo="http://www.lexisnexis.com/xmlschemas/content/legal/legislation-info/1/">
			<legisinfo:names>
				<legisinfo:officialtitle>
				    <xsl:attribute name="source">
				        <xsl:text>editoriallyassigned</xsl:text>
				    </xsl:attribute>
					<xsl:apply-templates select="@* | node()"/>
				</legisinfo:officialtitle>
			</legisinfo:names>
		</legisinfo:legisinfo>

	</xsl:template>

    <xsl:template match="leg:officialname/emph">
        <xsl:choose>
            <xsl:when test="@typestyle='it' or @typestyle='un'">
                <xsl:apply-templates select="emph"/>
            </xsl:when>
            <xsl:otherwise>
                <xsl:apply-templates select="@* | node()"/>
            </xsl:otherwise>
        </xsl:choose>               
	</xsl:template>


</xsl:stylesheet>