<?xml version="1.0" encoding="UTF-8"?>
<xsl:stylesheet 
    xmlns="http://www.lexisnexis.com/xmlschemas/content/shared/base/1/"
    xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
    xmlns:dita="http://dita.oasis-open.org/architecture/2005/"
    xmlns:doc="http://www.lexisnexis.com/xmlschemas/content/shared/document-level-metadata/1/"
    xmlns:docinfo="http://www.lexis-nexis.com/glp/docinfo"
    xmlns:leg="http://www.lexis-nexis.com/glp/leg"
    xmlns:ci="http://www.lexis-nexis.com/ci"
    xmlns:glp="http://www.lexis-nexis.com/glp"
    version="2.0" exclude-result-prefixes="#all">

    <dita:topic xmlns="http://dita.oasis-open.org/architecture/2005/"
        id="CA05_dpsi-stream-doc.hierlev-heading-title">
        <title>docinfo:custom-metafield/@name="dpsi" <lnpid>id-CA05-13637</lnpid></title>
        <body>
            <section>
                <p>When <sourcexml>docinfo:custom-metafield name="dpsi"</sourcexml> is contains
                    value as per below colum <b>DPSI</b> value then conversion should generate first
                        <targetxml>doc:hierlev</targetxml> with the colum <b>TOC top line</b> line
                    value, please refer below example for better understanding.</p>
                <table>
                    <tgroup cols="2">
                        <thead>
                            <row>
                                <entry>DPSI</entry>
                                <entry>TOC top line</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry>0U95</entry>
                                <entry>Statutes</entry>
                            </row>
                            <row>
                                <entry>0U9A</entry>
                                <entry>Former Statutes</entry>
                            </row>
                            <row>
                                <entry>0U9S</entry>
                                <entry>Statutes</entry>
                            </row>
                            <row>
                                <entry>0U9V</entry>
                                <entry>Statutes</entry>
                            </row>
                            <row>
                                <entry>0U9X</entry>
                                <entry>Former Statutes</entry>
                            </row>
                            <row>
                                <entry>0UA4</entry>
                                <entry>Statutes</entry>
                            </row>
                            <row>
                                <entry>0UA6</entry>
                                <entry>Former Statutes</entry>
                            </row>
                            <row>
                                <entry>0UAN</entry>
                                <entry>Statutes</entry>
                            </row>
                            <row>
                                <entry>0UAP</entry>
                                <entry>Former Statutes</entry>
                            </row>
                            <row>
                                <entry>0UCM</entry>
                                <entry>Statutes</entry>
                            </row>
                            <row>
                                <entry>0UCO</entry>
                                <entry>Former Statutes</entry>
                            </row>
                            <row>
                                <entry>0UCV</entry>
                                <entry>Statutes</entry>
                            </row>
                            <row>
                                <entry>0UCX</entry>
                                <entry>Former Statutes</entry>
                            </row>
                            <row>
                                <entry>0UD9</entry>
                                <entry>Statutes</entry>
                            </row>
                            <row>
                                <entry>0UDB</entry>
                                <entry>Former Statutes</entry>
                            </row>
                            <row>
                                <entry>0UDF</entry>
                                <entry>Employment Insurance Statutes</entry>
                            </row>
                            <row>
                                <entry>0UDL</entry>
                                <entry>Statutes</entry>
                            </row>
                            <row>
                                <entry>0UDM</entry>
                                <entry>Statutes</entry>
                            </row>
                            <row>
                                <entry>0UDT</entry>
                                <entry>Employment Standards Statutes</entry>
                            </row>
                            <row>
                                <entry>0UDV</entry>
                                <entry>Employment Standards Former Statutes</entry>
                            </row>
                            <row>
                                <entry>0UEE</entry>
                                <entry>Statutes</entry>
                            </row>
                            <row>
                                <entry>0UEF</entry>
                                <entry>Former Statutes</entry>
                            </row>
                            <row>
                                <entry>0UFB</entry>
                                <entry>Human Rights/Equity Issues Statutes</entry>
                            </row>
                            <row>
                                <entry>0UFD</entry>
                                <entry>Human Rights/Equity Issues Former Statutes</entry>
                            </row>
                            <row>
                                <entry>0UFT</entry>
                                <entry>Statutes</entry>
                            </row>
                            <row>
                                <entry>0UHJ</entry>
                                <entry>Statutes</entry>
                            </row>
                            <row>
                                <entry>0UHL</entry>
                                <entry>Former Statutes</entry>
                            </row>
                            <row>
                                <entry>0UI1</entry>
                                <entry>Labour Relations Statutes</entry>
                            </row>
                            <row>
                                <entry>0UI3</entry>
                                <entry>Labour Relations Former Statutes</entry>
                            </row>
                            <row>
                                <entry>0UJ2</entry>
                                <entry>Statutes</entry>
                            </row>
                            <row>
                                <entry>0UJ3</entry>
                                <entry>Former Statutes </entry>
                            </row>
                            <row>
                                <entry>0UJ8</entry>
                                <entry>Statutes</entry>
                            </row>
                            <row>
                                <entry>0UJ9</entry>
                                <entry>Former Statutes</entry>
                            </row>
                            <row>
                                <entry>0UN0</entry>
                                <entry>Lois</entry>
                            </row>
                            <row>
                                <entry>0UN5</entry>
                                <entry>Lois</entry>
                            </row>
                            <row>
                                <entry>0UNO</entry>
                                <entry>Lois</entry>
                            </row>
                            <row>
                                <entry>0UNZ</entry>
                                <entry>Lois</entry>
                            </row>
                            <row>
                                <entry>0UOD</entry>
                                <entry>Lois</entry>
                            </row>
                            <row>
                                <entry>0UOJ</entry>
                                <entry>Lois</entry>
                            </row>
                            <row>
                                <entry>0UOS</entry>
                                <entry>Lois</entry>
                            </row>
                            <row>
                                <entry>0UPV</entry>
                                <entry>Statutes</entry>
                            </row>
                            <row>
                                <entry>0UPX</entry>
                                <entry>Former Statutes</entry>
                            </row>
                            <row>
                                <entry>0US1</entry>
                                <entry>Former Statutes</entry>
                            </row>
                            <row>
                                <entry>0US6</entry>
                                <entry>Lois</entry>
                            </row>
                            <row>
                                <entry>0USC</entry>
                                <entry>Archives - Lois</entry>
                            </row>
                            <row>
                                <entry>0UTB</entry>
                                <entry>Lois</entry>
                            </row>
                            <row>
                                <entry>0UVY</entry>
                                <entry>Acts</entry>
                            </row>
                            <row>
                                <entry>0USN</entry>
                                <entry>Former Acts</entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
                <pre>
&lt;docinfo:metaitem name="DPSI"&gt;0UVY&lt;/docinfo:metaitem&gt;
...
&lt;docinfo:hier&gt;
    &lt;docinfo:hierlev role="ancestor" exclude-from-displayunits="true"&gt;
        &lt;heading&gt;
            &lt;title&gt;Aggregate Resources Act, R.S.O. 1990, c. A.8&lt;/title&gt;
        &lt;/heading&gt;
        &lt;docinfo:hierlev role="me" exclude-from-displayunits="true"&gt;
            &lt;heading&gt;
                &lt;title&gt;RSO 1990 cA.8 s1 [eff 1998/01/01 to 2002/12/31]&lt;/title&gt;
            &lt;/heading&gt;
        &lt;/docinfo:hierlev&gt;
    &lt;/docinfo:hierlev&gt;
&lt;/docinfo:hier&gt;
            </pre>
                <p>
                    <b>becomes</b>
                </p>
                <pre>
&lt;doc:hier&gt;
    &lt;doc:hierlev&gt;
        &lt;heading&gt;
            &lt;title&gt;Acts&lt;/title&gt;
        &lt;/heading&gt;
        &lt;doc:hierlev&gt;
            &lt;heading&gt;
                &lt;title&gt;Aggregate Resources Act, R.S.O. 1990, c. A.8&lt;/title&gt;
            &lt;/heading&gt;
            &lt;doc:hierlev&gt;
                &lt;heading&gt;
                    &lt;title&gt;RSO 1990 cA.8 s1 [eff 1998/01/01 to 2002/12/31]&lt;/title&gt;
                &lt;/heading&gt;
            &lt;/doc:hierlev&gt;
        &lt;/doc:hierlev&gt;
    &lt;/doc:hierlev&gt;
&lt;/doc:hier&gt;
            </pre>
            </section>

            <section>
                <title>Change Log</title>
                <p>2016-08-12: <ph id="change_20160812_HP">Added columns of <b>DPSI</b> (0USN) and
                            <b>TOC top line</b> (Former Acts) under the table of DPSIs.</ph></p>
                <p>2016-07-20: <ph id="change_20160720_SS">Updated some DPSI values inside the
                        column <b>TOC top line</b>.</ph></p>
                <p>2016-04-25: <ph id="change_20160425_PS">Created.</ph></p>
            </section>
        </body>
    </dita:topic>

    <!--  @@@ This file has been autogenerated.  Remove this comment after manual development complete! @@@  -->
    <!--    Original DITA file location:  DITA\ConversionInstructions\Rosetta\DITA-CAN\CA05-ActsNew\CA05_dpsi-stream-doc.hierlev-heading-title.dita  -->
    <!--<xsl:message>CA05_dpsi-stream-doc.hierlev-heading-title.xsl requires manual development!</xsl:message> -->

    <xsl:template match="docinfo:hierlev" priority="2">

        <!--  Original Target XPath:  doc:hierlev   -->
        <doc:hierlev>
            <heading>
                <title>
                    <xsl:value-of select="heading/title[1]"/>
                </title>
            </heading>
            <xsl:apply-templates select="child::docinfo:hierlev"/>
        </doc:hierlev>

    </xsl:template>

</xsl:stylesheet>
