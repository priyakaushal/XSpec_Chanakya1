<?xml version="1.0" encoding="UTF-8"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:dita="http://dita.oasis-open.org/architecture/2005/" xmlns:docinfo="http://www.lexis-nexis.com/glp/docinfo" xmlns:classify="http://www.lexisnexis.com/xmlschemas/content/shared/classification/1/" xmlns:doc="http://www.lexisnexis.com/xmlschemas/content/shared/document-level-metadata/1/" xmlns:legisinfo="http://www.lexisnexis.com/xmlschemas/content/legal/legislation-info/1/" version="2.0" exclude-result-prefixes="dita docinfo">

	<dita:topic xmlns="http://dita.oasis-open.org/architecture/2005/" id="LxAdv_CA-legisinfo.statusgroup-LxAdv-classify.classification">
    <title>CA first document in "current" material <lnpid>id-CCCC-10517</lnpid></title>
  <body>
      
      <section>
          <p>Target should be generated based on the below bulletedconditions:
              <ul>
                  <li><p>When <targetxml>legisinfo:status/@statuscode</targetxml> is having value
                      <b>consolidated</b> or <b>repealedshell</b>.</p></li>
                  
                  <li><p>AND</p>
                      <ul>
                          <li>
                              <p>There is no <sourcexml>docinfo:versioninfo</sourcexml></p>
                              <p>OR </p>
                              
                          </li>
                          <li> If there is <sourcexml>docinfo:versioninfo</sourcexml> markup
                              available then check, there is no
                              <sourcexml>docinfo:enddate</sourcexml> or
                              <sourcexml>docinfo:enddate</sourcexml> should be <b> &gt; (greater
                                  than)</b> today's date</li></ul></li>
                  
                  <li><p>AND</p>
                      <ul>
                          <li><p><targetxml>metaitem/[@name="browseprev" and @value="false"]</targetxml></p></li>
                      </ul></li></ul></p>  
          <p>Then conversion should generate
                    <targetxml>doc:docinfo/classify:classification/@classscheme="actDocumentOrder"/classify:classitem/classify:classitem-identifier/classify:classcode/@normval="true"</targetxml>
                and
                    <targetxml>doc:docinfo/classify:classification/@classscheme="actDocumentOrder"/classify:classitem/classify:classitem-identifier/classify:classname</targetxml>
                with value <b>firstActDocument</b>.</p>
          
      </section>
      <example>
            <title>When <targetxml>docinfo:versioninfo</targetxml> is not present in data</title>
            <codeblock>
&lt;legisinfo:statusgroup&gt;
    &lt;legisinfo:status statuscode="repealedshell"&gt;
        &lt;legisinfo:statustext&gt;REPEALED&lt;/legisinfo:statustext&gt;
    &lt;/legisinfo:status&gt;
&lt;/legisinfo:statusgroup&gt;

&lt;!-- There is no docinfo:versioninfo element in the data --&gt;

&lt;meta&gt;
    &lt;metaitem name="browseprev" value="false"/&gt;
&lt;/meta&gt;
           </codeblock>
            <b>becomes</b>
            <codeblock>
&lt;doc:docinfo&gt;
    &lt;classify:classification classscheme="actDocumentOrder"&gt;
        &lt;classify:classitem&gt;
            &lt;classify:classitem-identifier&gt;
                &lt;classify:classcode normval="true"/&gt;
                &lt;classify:classname&gt;firstActDocument&lt;/classify:classname&gt;
            &lt;/classify:classitem-identifier&gt;
        &lt;/classify:classitem&gt;
    &lt;/classify:classification&gt;
&lt;/doc:docinfo&gt;
           </codeblock>
        </example>
      
      <section>
          <title>Changes</title>
          <p>2015-01-02: <ph id="change_20150102_PS">Updated
                        <targetxml>classify:classcode/@normval</targetxml> attribute value from
                        <b>false</b> to <b>true</b>. R 4.5 Issue # 2048, Applicable on
                    CA05-CA08.</ph></p>
          <p>2014-12-19: <ph id="change_20141219_PS">Added new instruction for creation of
                        <targetxml>classify:classification/classify:classitem/classify:classitem-identifier/classify:classname</targetxml>.
                    Applicable on CA05-CA08.</ph>.</p>
      </section>
  </body>
	</dita:topic>

	<!--  @@@ This file has been autogenerated.  Remove this comment after manual development complete! @@@  -->
	<!--    Original DITA file location:  DITA\ConversionInstructions\Rosetta\common_newest\LxAdv_CA-legisinfo.statusgroup-LxAdv-classify.classification.dita  -->
	<xsl:message>LxAdv_CA-legisinfo.statusgroup-LxAdv-classify.classification.xsl requires manual development!</xsl:message> 

	<xsl:template match="docinfo:versioninfo">

		<!--  Original Target XPath:  metaitem/[@name="browseprev"and@value="false"]   -->
		<metaitem>
			<!--  Could not determine target element or attribute name:  <[@name="browseprev"and@value="false"]>  -->				<xsl:apply-templates select="@* | node()"/>
			<!--  Could not determine target element or attribute name:  </[@name="browseprev"and@value="false"]>  -->
		</metaitem>

	</xsl:template>

	<xsl:template match="docinfo:enddate">

		<!--  Original Target XPath:  metaitem/[@name="browseprev"and@value="false"]   -->
		<metaitem>
			<!--  Could not determine target element or attribute name:  <[@name="browseprev"and@value="false"]>  -->				<xsl:apply-templates select="@* | node()"/>
			<!--  Could not determine target element or attribute name:  </[@name="browseprev"and@value="false"]>  -->
		</metaitem>

	</xsl:template>

</xsl:stylesheet>