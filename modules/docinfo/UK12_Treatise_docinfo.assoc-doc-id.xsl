<?xml version="1.0" encoding="UTF-8"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:dita="http://dita.oasis-open.org/architecture/2005/" xmlns:docinfo="http://www.lexis-nexis.com/glp/docinfo" xmlns:doc="http://www.lexisnexis.com/xmlschemas/content/shared/document-level-metadata/1/" xmlns:ref="http://www.lexisnexis.com/xmlschemas/content/shared/reference/1/" version="2.0" exclude-result-prefixes="dita docinfo">

	<dita:topic xmlns="http://dita.oasis-open.org/architecture/2005/" id="UK12_Treatise_docinfo.assoc-doc-id">
    <title><sourcexml>docinfo:assoc-doc-id</sourcexml> to
            <targetxml>ref:relatedresourcelocator</targetxml> <lnpid>id-UK12-29811</lnpid></title>
    <body>
        <section>
            <p><sourcexml>docinfo/docinfo:assoc-doc-id</sourcexml> becomes
                    <targetxml>doc:docinfo/doc:related-content/doc:related-content-item/ref:relatedresourceref/ref:relatedresourcelocator[@ref:locatorkey]</targetxml>.</p>
            <p>Note that the content of <sourcexml>docinfo:assoc-doc-id</sourcexml> becomes the
                value for <targetxml>ref:relatedresourcelocator[@ref:locatorkey]</targetxml>.</p>
            <p>Also generate the following attribute and value:
                    <targetxml>ref:relatedresourcelocator[@ref:locatorkeyname="normcite"]</targetxml>
            </p>
        </section>
        <note>As of March 2014, the source element <sourcexml>docinfo:assoc-doc-id</sourcexml> is
            present only for UK12 "Stop Press" documents. The rule above accounts for the data as
            they are. However, it is likely that additional or different locating information will
            be required. This rule may be modified or replaced in future.</note>

        <example>
            <title>Source XML</title>
            <codeblock>

&lt;docinfo&gt;
    ...
    &lt;docinfo:assoc-doc-id&gt;s2002_11a_Title&lt;/docinfo:assoc-doc-id&gt;
    ...
&lt;/docinfo&gt;

	</codeblock>
        </example>

        <example>
            <title>Target XML</title>
            <codeblock>

&lt;doc:docinfo doc-content-country="GB"&gt;
    ...
    &lt;doc:related-content&gt;
        &lt;doc:related-content-item&gt;
            &lt;ref:relatedresourceref&gt;
                &lt;ref:relatedresourcelocator ref:locatorkey="s2002_11a_Title" ref:locatorkeyname="normcite"/&gt;
            &lt;/ref:relatedresourceref&gt;
        &lt;/doc:related-content-item&gt;
    &lt;/doc:related-content&gt;
    ...
&lt;/doc:docinfo&gt;

	</codeblock>
        </example>
        <section><title>Changes</title>
            <p>2014-03-21: <ph id="change_20140321_jm">New rule. Target xpath is new. Known only for
                    UK12 "Stop Press" documents. Rule notes that locating information may be
                    modified in future interations. Webteam 252187.</ph></p></section>
    </body>
	</dita:topic>

	<!--  @@@ This file has been autogenerated.  Remove this comment after manual development complete! @@@  -->
	<!--    Original DITA file location:  DITA\ConversionInstructions\Rosetta\DITA-UK\UK12-Treatise\UK12_Treatise_docinfo.assoc-doc-id.dita  -->
<!--	<xsl:message>UK12_Treatise_docinfo.assoc-doc-id.xsl requires manual development!</xsl:message> -->

	<xsl:template match="docinfo:assoc-doc-id">
	    <doc:related-content>
	        <doc:related-content-item>
	            <ref:relatedresourceref>
	                <ref:relatedresourcelocator>
	                    <xsl:attribute name="ref:locatorkeyname" select="'normcite'"/>
	                    <xsl:attribute name="ref:locatorkey">
	                        <xsl:value-of select="."/>
	                    </xsl:attribute>	                    
	                </ref:relatedresourcelocator>
	            </ref:relatedresourceref>
	        </doc:related-content-item>
	    </doc:related-content>
	</xsl:template>

	

</xsl:stylesheet>