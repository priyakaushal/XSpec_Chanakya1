<?xml version="1.0" encoding="UTF-8"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:dita="http://dita.oasis-open.org/architecture/2005/" xmlns:dig="http://www.lexis-nexis.com/glp/dig" xmlns:case="http://www.lexis-nexis.com/glp/case" xmlns:seclaw="http://www.lexisnexis.com/xmlschemas/content/legal/secondary-law/1/" version="2.0" exclude-result-prefixes="dita dig case seclaw">

	<dita:topic xmlns="http://dita.oasis-open.org/architecture/2005/" id="dig.item">
    <title>dig:item <lnpid>id-CA02DS-12832</lnpid></title>
   <body>
      <section>
<ul>
         <li class="- topic/li ">
             <sourcexml class="+ topic/keyword xml-d/sourcexml ">dig:item</sourcexml> becomes
                  <targetxml class="+ topic/keyword xml-d/targetxml ">seclaw:digest</targetxml>.
            
               <pre xml:space="preserve" class="- topic/pre ">

&lt;dig:item&gt;
    ...........
    ...........
&lt;/dig:item&gt;

                    </pre>
               <b class="+ topic/ph hi-d/b ">Becomes</b>
               <pre xml:space="preserve" class="- topic/pre ">
&lt;seclaw:digest&gt;
    ...........
    ...........
&lt;/seclaw:digest&gt; 
    

               </pre>
             
         </li>
    
      </ul>
</section>
   </body>
	</dita:topic>

	<!--  @@@ This file has been autogenerated.  Remove this comment after manual development complete! @@@  -->
	<!--    Original DITA file location:  DITA\ConversionInstructions\Rosetta\DITA-CAN\CA02-Case_Summaries\CA02DS_DIGESTDOC_to_seclaw\dig.item.dita  -->
 
    <!-- Vikas Rohilla : Template to match the dig:item[./dig:info/case:info/abbrvname or ./dig:info/case:info/case:casename] and create the seclaw:digest   -->
    <xsl:template match="dig:item[./dig:info/case:info/abbrvname or ./dig:info/case:info/case:casename]">
        <seclaw:digest>
            <xsl:apply-templates select="@* | node()"/>
            <xsl:if test="following-sibling::*[1][self::dig:item[not(./dig:info/case:info/abbrvname or ./dig:info/case:info/case:casename)]]">
                <xsl:call-template name="wrap-digitem">
                    <xsl:with-param name="node" select="following-sibling::*[1][self::dig:item[not(./dig:info/case:info/abbrvname or ./dig:info/case:info/case:casename)]]"/>
                </xsl:call-template>
            </xsl:if>
        </seclaw:digest>
    </xsl:template>
    
    <!-- Vikas Rohilla : Template name wrap-digitem -->
    <xsl:template name="wrap-digitem">
        <xsl:param name="node"/>
        <xsl:apply-templates select="$node" mode="wrap-digitem"/>
        <xsl:if test="$node/following-sibling::*[1][self::dig:item[not(./dig:info/case:info/abbrvname or ./dig:info/case:info/case:casename)]]">
            <xsl:call-template name="wrap-digitem">
                <xsl:with-param name="node" select="$node/following-sibling::*[1][self::dig:item[not(./dig:info/case:info/abbrvname or ./dig:info/case:info/case:casename)]]"/>
            </xsl:call-template>
        </xsl:if>
    </xsl:template>
    
    <!-- Vikas Rohilla : Template match dig:item not descendent abbrvname or the case:casename -->
    <xsl:template match="dig:item[not(./dig:info/case:info/abbrvname or ./dig:info/case:info/case:casename)][not(preceding-sibling::dig:item[./dig:info/case:info/abbrvname or ./dig:info/case:info/case:casename])]">
        <xsl:apply-templates select="@* | node()"/>
    </xsl:template>
    
    <!-- Vikas Rohilla : Template match the dig:item with mode wrap-digitem   -->
    <xsl:template match="dig:item" mode="wrap-digitem">
        <xsl:apply-templates select="node()|@*"/>
    </xsl:template>

</xsl:stylesheet>