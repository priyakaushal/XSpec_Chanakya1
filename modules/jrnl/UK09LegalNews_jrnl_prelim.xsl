<?xml version="1.0" encoding="UTF-8"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
	xmlns:dita="http://dita.oasis-open.org/architecture/2005/"
	xmlns:jrnl="http://www.lexis-nexis.com/glp/jrnl"
	xmlns:nitf="http://iptc.org/std/NITF/2006-10-18/" version="2.0"
	exclude-result-prefixes="dita jrnl">

	<dita:topic xmlns="http://dita.oasis-open.org/architecture/2005/" id="UK09LegalNews_jrnl_prelim">
		<title>jrnl:prelim <lnpid>id-UK09-29016</lnpid></title>
		<body>
			<p><sourcexml>jrnl:prelim</sourcexml> becomes
					<targetxml>nitf:body/nitf:body.head</targetxml>. The attribute
					<sourcexml>@searchtype</sourcexml> is dropped.</p>
			<example>
				<title>Source XML</title>
				<codeblock> &lt;jrnl:prelim searchtype="ARTICLE"&gt; ... &lt;/jrnl:prelim&gt; </codeblock>
				<title>Target XML</title>
				<codeblock> &lt;nitf:body&gt; &lt;nitf:body.head&gt; ... &lt;/nitf:body.head&gt; ...
					&lt;/nitf:body&gt; </codeblock>
			</example>
		</body>

	</dita:topic>

	<!--  @@@ This file has been autogenerated.  Remove this comment after manual development complete! @@@  -->
	<!--    Original DITA file location:  DITA\ConversionInstructions\Rosetta\DITA-UK\UK09-LegalNews\UK09LegalNews_jrnl_prelim.dita  -->
	<!--<xsl:message>UK09LegalNews_jrnl_prelim.xsl requires manual development!</xsl:message>-->

	<xsl:template match="jrnl:prelim">
		<!--		<nitf:body>-->
		<nitf:body.head>

			<xsl:choose>
				<xsl:when test="(jrnl:articletitle | jrnl:articlesubtitle | jrnl:topic)">
					<nitf:hedline>
						<xsl:apply-templates
							select="@* | node() except (descendant::copyright | descendant::contrib | descendant::abstract)"/>
					</nitf:hedline>
					<!--<xsl:if test="(contrib | abstract | ../jrnl:prelim[2]/abstract)">
						<xsl:apply-templates select="@* | ../jrnl:prelim[2]/abstract |node() except (descendant::copyright |descendant::jrnl:articletitle |descendant:: jrnl:articlesubtitle | descendant::jrnl:topic)"/>
					</xsl:if>-->
					<xsl:apply-templates select="contrib | abstract"/>
					<xsl:apply-templates select="following-sibling::*[1][self::jrnl:prelim]/*[not(self::copyright|self::jrnl:articletitle|self::jrnl:articlesubtitle|self::jrnl:topic)]"/>
					<xsl:apply-templates select="following::classification"/>
				</xsl:when>
			</xsl:choose>
		</nitf:body.head>
		<!--</nitf:body>-->
	</xsl:template>
	
	<xsl:template match="jrnl:prelim[2]"/>

	<xsl:template match="jrnl:prelim/@searchtype"/>
	<!-- The attribute @searchtype is dropped -->
	<!--<xsl:apply-templates select="@* | node()"/>-->
</xsl:stylesheet>
