<?xml version="1.0" encoding="UTF-8"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:dita="http://dita.oasis-open.org/architecture/2005/" xmlns:source_dict="http://www.lexis-nexis.com/glp/dict" xmlns:dict="urn:x-lexisnexis:content:dict:sharedservices:1" xmlns:tei="http://www.tei-c.org/ns/1.0/" version="2.0" exclude-result-prefixes="dita dict">

	<dita:topic xmlns="http://dita.oasis-open.org/architecture/2005/" id="dictionary-Body">
    <title>dict:body <lnpid>id-IN07-38408</lnpid></title>
    <body>
        <section>
            <p><sourcexml>dict:body</sourcexml> becomes <targetxml>dict:body</targetxml><ul>
                <li>Child <sourcexml>dict:term-entry</sourcexml> becomes  
                                <targetxml>dict:defitem/tei:entry</targetxml><ul>
                            <li><sourcexml>defterm</sourcexml> becomes
                                    <targetxml>tei:form/tei:orth</targetxml> following the rules below:<ul>
                                        <li>The value of <targetxml>tei:orth/@norm</targetxml> should be the
                                        value of <sourcexml>defterm</sourcexml> with space
                                        normalized, punctutation removed, and converted to
										lower-case.</li>
                                </ul></li>
                            <li>Convert <sourcexml>dict:definition</sourcexml> as follows:<ul>
                                    <li><sourcexml>dict:definition</sourcexml>
                                        becomes <targetxml>tei:def</targetxml>.<ul id="ul_zlv_cbv_yk">
                                            <li>child element <sourcexml>p</sourcexml> and its
                                                children will be contained in
                                                  <targetxml>pgrp</targetxml>.</li>
                                            <li><sourcexml>/dict:definition/p</sourcexml> becomes
                                                  <targetxml>tei:def/pgrp/p</targetxml></li>
                                        </ul></li>
                                    
                                </ul></li>
                        </ul></li>
                </ul></p>
        </section>
        <example>
            <title>Source XML</title>
            <codeblock>
&lt;dict:body&gt;
    &lt;dict:term-entry&gt;
        &lt;defterm&gt;POSSESSION&lt;/defterm&gt;
        &lt;dict:definition&gt;
            &lt;p&gt;
                &lt;text&gt;The term has been defined as...
                    ...
                &lt;/text&gt;
            &lt;/p&gt;
        &lt;/dict:definition&gt;
    &lt;/dict:term-entry&gt;
&lt;/dict:body&gt;
      </codeblock>
        </example>
        <example>
            <title>Target XML</title>
            <codeblock>
&lt;dict:body&gt;
    &lt;dict:defitem&gt;
        &lt;tei:entry&gt;
            &lt;tei:form&gt;
                &lt;tei:orth norm="possession"&gt;
                    &lt;ref:anchor id="P0382" anchortype="global"&gt;
                        &lt;ref:anchortext&gt;POSSESSION&lt;/ref:anchortext&gt;
                    &lt;/ref:anchor&gt;
                &lt;/tei:orth&gt;
            &lt;/tei:form&gt;
            &lt;tei:def&gt;
                &lt;pgrp&gt;
                    &lt;p&gt;
                        &lt;text&gt;The term has been defined as...
                            ...
                        &lt;/text&gt;
                    &lt;/p&gt;
                &lt;/pgrp&gt;
            &lt;/tei:def&gt;
        &lt;/tei:entry&gt;
    &lt;/dict:defitem&gt;
&lt;/dict:body&gt;
      </codeblock>
        </example>
        <section>
            <note>CR: Need (dict) schema change for allowing <targetxml>deflist</targetxml> as a
                child of <targetxml>p</targetxml> accoeding our common instruction module.</note>
        </section>
        <section>
            <title>Changes</title>
            <p>2015-07-06: <ph id="change_20160706_RS">Created</ph>.</p>
        </section>
    </body>
	</dita:topic>

	<!--  @@@ This file has been autogenerated.  Remove this comment after manual development complete! @@@  -->
	<!--    Original DITA file location:  DITA\ConversionInstructions\Rosetta\DITA-IN\IN07-Dictionary\dictionary-Body.dita  -->
	<xsl:message>dictionary-Body.xsl requires manual development!</xsl:message> 

	<xsl:template match="dict:body"><!--  TODO:  correct match pattern to prepend "source_" in front of appropriate ns prefixes!!  -->

		<!--  Original Target XPath:  dict:body   -->
		<dict:body>
			<xsl:apply-templates select="@* | node()"/>
		</dict:body>

	</xsl:template>

	<xsl:template match="dict:term-entry"><!--  TODO:  correct match pattern to prepend "source_" in front of appropriate ns prefixes!!  -->

		<!--  Original Target XPath:  dict:defitem/tei:entry   -->
		<dict:defitem>
			<tei:entry>
				<xsl:apply-templates select="@* | node()"/>
			</tei:entry>
		</dict:defitem>

	</xsl:template>

	<xsl:template match="defterm"><!--  TODO:  correct match pattern to prepend "source_" in front of appropriate ns prefixes!!  -->

		<!--  Original Target XPath:  tei:form/tei:orth   -->
		<tei:form>
			<tei:orth>
				<xsl:apply-templates select="@* | node()"/>
			</tei:orth>
		</tei:form>

	</xsl:template>

	<xsl:template match="dict:definition"><!--  TODO:  correct match pattern to prepend "source_" in front of appropriate ns prefixes!!  -->

		<!--  Original Target XPath:  tei:def   -->
		<tei:def>
			<xsl:apply-templates select="@* | node()"/>
		</tei:def>

	</xsl:template>

	<xsl:template match="p"><!--  TODO:  correct match pattern to prepend "source_" in front of appropriate ns prefixes!!  -->

		<!--  Original Target XPath:  pgrp   -->
		<pgrp>
			<xsl:apply-templates select="@* | node()"/>
		</pgrp>

	</xsl:template>

	<xsl:template match="/dict:definition/p"><!--  TODO:  correct match pattern to prepend "source_" in front of appropriate ns prefixes!!  -->

		<!--  Original Target XPath:  tei:def/pgrp/p   -->
		<tei:def>
			<pgrp>
				<p>
					<xsl:apply-templates select="@* | node()"/>
				</p>
			</pgrp>
		</tei:def>

	</xsl:template>

</xsl:stylesheet>